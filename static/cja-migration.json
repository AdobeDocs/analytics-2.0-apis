{
  "openapi": "3.0.1",
  "info": {
    "title": "Adobe Analytics 2.0 Component Migration API.",
    "description": "Adobe Analytics 2.0 Component Migration. Migrate components from Adobe Analytics to Customer Journey Analytics (AA to CJA).\n\n Note: Adobe may add optional request and response members (name/value pairs) to existing API objects at any time and without notice or changes in versioning. Adobe recommends that you refer to the API documentation of any third-party tool you integrate with our APIs so that such additions are ignored in processing if not understood. If implemented properly, such additions are non-breaking changes for your implementation. Adobe will not remove parameters or add required parameters without first providing standard notification through release notes.",
    "version": "1.0"
  },
  "servers": [
    {
      "url": "https://analytics.adobe.io/api"
    }
  ],
  "tags": [
    {
      "name": "Component migration",
      "description": "API Methods for migrating projects with components from Adobe Analytics to Customer Journey Analytics"
    },
    {
      "name": "Dimensions mappings",
      "description": "Methods to map Analytics dimensions to CJA data views within an XDM schema"
    },
    {
      "name": "Metrics mappings",
      "description": "Methods to map Analytics metrics to CJA data views within an XDM schema"
    }
  ],
  "paths": {
    "/projects/{projectId}/summary": {
      "get": {
        "tags": [
          "Component migration"
        ],
        "summary": "Retrieve project summary",
        "description": "Retrieve summary for specified project ID",
        "operationId": "summary_1",
        "parameters": [
          {
            "name": "projectId",
            "in": "path",
            "description": "The project ID to be moved to CJA",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Project migration summary retrieved successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MigrationEventStatusEntity"
                }
              }
            }
          }
        },
        "security": [
          {
            "x-gw-ims-org-id": []
          },
          {
            "x-proxy-global-company-id": []
          },
          {
            "x-user-auth": []
          }
        ]
      }
    },
    "/projects/bulk/migrate": {
      "post": {
        "tags": [
          "Component migration"
        ],
        "summary": "Create project migration",
        "description": "Create bulk project migration for specified project IDs",
        "operationId": "bulkMigrate_1",
        "responses": {
          "200": {
            "description": "Projects migrated successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ControllerResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "x-gw-ims-org-id": []
          },
          {
            "x-proxy-global-company-id": []
          },
          {
            "x-user-auth": []
          }
        ]
      }
    },
    "/projects/bulk/status": {
      "get": {
        "tags": [
          "Component migration"
        ],
        "summary": "Retrieve bulk migration projects status",
        "description": "Retrieve statuses for specified project IDs",
        "operationId": "RetrieveBulkProjectStatus_1",
        "responses": {
          "200": {
            "description": "Bulk project migration statuses retrieved successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IMigrationEvent"
                }
              }
            }
          }
        },
        "security": [
          {
            "x-gw-ims-org-id": []
          },
          {
            "x-proxy-global-company-id": []
          },
          {
            "x-user-auth": []
          }
        ]
      }
    },
    "/mapping/dimensions/csv": {
      "get": {
        "tags": [
          "Dimensions mappings"
        ],
        "summary": "Retrieve dimensions mappings as CSV file",
        "description": "Retrieve CSV file of dimensions mappings for specified *rsid* and *dataId*",
        "operationId": "getMappingsAsCSV_1",
        "parameters": [
          {
            "name": "rsid",
            "in": "query",
            "description": "*rsid* in Analytics",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "dataId",
            "in": "query",
            "description": "Data ID in CJA",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "dimensionIds",
            "in": "query",
            "description": "Filter list to include dimensions mappings for only the specified comma-delimited list of dimension IDs",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Dimensions mappings retrieved successfully",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        },
        "security": [
          {
            "x-gw-ims-org-id": []
          },
          {
            "x-user-auth": []
          }
        ]
      },
      "put": {
        "tags": [
          "Dimensions mappings"
        ],
        "summary": "Update dimensions mappings with CSV file",
        "description": "Update CSC file of dimensions mappings for specified *rsid* and *dataId*",
        "operationId": "updateMappingByCSV_1",
        "parameters": [
          {
            "name": "rsid",
            "in": "query",
            "description": "*rsid* in Analytics",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "dataId",
            "in": "query",
            "description": "Data ID in CJA",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Dimensions mappings updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/FieldMappingDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "x-gw-ims-org-id": []
          },
          {
            "x-user-auth": []
          }
        ]
      },
      "post": {
        "tags": [
          "Dimensions mappings"
        ],
        "summary": "Create dimensions mappings with CSV file",
        "description": "Upload CSV file of dimensions mappings to override existing mappings for specified *rsid* and *dataId*",
        "operationId": "createMappingByCSV_1",
        "parameters": [
          {
            "name": "rsid",
            "in": "query",
            "description": "*rsid* in Analytics",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "dataId",
            "in": "query",
            "description": "Data ID in CJA",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Dimensions mappings created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/FieldMappingDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "x-gw-ims-org-id": []
          },
          {
            "x-user-auth": []
          }
        ]
      }
    },
    "/mapping/dimensions/all": {
      "delete": {
        "tags": [
          "Dimensions mappings"
        ],
        "summary": "Delete all dimensions mappings",
        "description": "Delete all dimensions mappings for the specified report suite and data view IDs. If there are no mappings, this will return a successful response.",
        "operationId": "deleteAllMappings_1",
        "parameters": [
          {
            "name": "rsid",
            "in": "query",
            "description": "*rsid* in Analytics",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "dataId",
            "in": "query",
            "description": "Data ID in CJA",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Dimensions mappings deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeleteControllerResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "x-gw-ims-org-id": []
          },
          {
            "x-user-auth": []
          }
        ]
      }
    },
    "/mapping/metrics/csv": {
      "get": {
        "tags": [
          "Metrics mappings"
        ],
        "summary": "Retrieve metrics mappings as CSV file",
        "description": "Retrieve metrics mappings for specified *rsid* and *dataId*",
        "operationId": "getMappingsAsCSV_3",
        "parameters": [
          {
            "name": "rsid",
            "in": "query",
            "description": "*rsid* in Analytics",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "dataId",
            "in": "query",
            "description": "Data ID in CJA",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "metricIds",
            "in": "query",
            "description": "Filter list to include metrics mappings for only the specified comma-delimited list of metric IDs",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Dimensions mappings retrieved successfully",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        },
        "security": [
          {
            "x-gw-ims-org-id": []
          },
          {
            "x-user-auth": []
          }
        ]
      },
      "put": {
        "tags": [
          "Metrics mappings"
        ],
        "summary": "Update metrics mappings with CSV file",
        "description": "Update CSV file of metrics mappings for specified *rsid* and *dataId*",
        "operationId": "updateMappingByCSV_3",
        "parameters": [
          {
            "name": "rsid",
            "in": "query",
            "description": "*rsid* in Analytics",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "dataId",
            "in": "query",
            "description": "Data ID in CJA",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Metrics mappings updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/FieldMappingDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "x-gw-ims-org-id": []
          },
          {
            "x-user-auth": []
          }
        ]
      },
      "post": {
        "tags": [
          "Metrics mappings"
        ],
        "summary": "Create metrics mappings with CSV file",
        "description": "Upload CSV file of metrics mappings to override existing mappings for specified *rsid* and *dataId*",
        "operationId": "createMappingByCSV_3",
        "parameters": [
          {
            "name": "rsid",
            "in": "query",
            "description": "*rsid* in Analytics",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "dataId",
            "in": "query",
            "description": "Data ID in CJA",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Metrics mappings created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/FieldMappingDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "x-gw-ims-org-id": []
          },
          {
            "x-user-auth": []
          }
        ]
      }
    },
    "/mapping/metrics/all": {
      "delete": {
        "tags": [
          "Metrics mappings"
        ],
        "summary": "Delete all metrics mappings",
        "description": "Delete all metrics mappings for the specified report suite and data view IDs. If there are no mappings, this will return a successful response.",
        "operationId": "deleteAllMappings_3",
        "parameters": [
          {
            "name": "rsid",
            "in": "query",
            "description": "*rsid* in Analytics",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "dataId",
            "in": "query",
            "description": "Data ID in CJA",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "All metrics mapping deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeleteControllerResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "x-gw-ims-org-id": []
          },
          {
            "x-user-auth": []
          }
        ]
      }
    }
  },
  "components": {
    "schemas": {
      "HealthStatus": {
        "properties": {
          "system-status": {
            "type": "string",
            "enum": [
              "RED",
              "ORANGE",
              "GREEN"
            ]
          },
          "errors": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "value": {
                  "$ref": "#/components/schemas/Thrown"
                },
                "key": {
                  "type": "string"
                }
              }
            }
          },
          "dependencies": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AsrHealthIndicator"
            }
          },
          "status": {
            "type": "string"
          }
        }
      },
      "Thrown": {
        "properties": {
          "exception": {
            "type": "string"
          },
          "stack": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "thrown": {
            "$ref": "#/components/schemas/Thrown"
          },
          "message": {
            "type": "string"
          }
        }
      },
      "AsrHealthStatus": {
        "properties": {}
      },
      "AsrHealthIndicator": {
        "properties": {
          "description": {
            "type": "string"
          },
          "weight": {
            "type": "string",
            "enum": [
              "Required: Failure of this dependency would result in complete system outage",
              "Major: Failure of this dependency would result in major functional degradation",
              "None: Failure of this dependency would not contribute to the overall system health"
            ]
          },
          "id": {
            "type": "string"
          },
          "type": {
            "$ref": "#/components/schemas/IndicatorType"
          },
          "timeout": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "IndicatorType": {
        "properties": {}
      },
      "ComponentMapping": {
        "properties": {
          "cjaId": {
            "type": "string"
          },
          "cjaName": {
            "type": "string"
          },
          "aaId": {
            "type": "string"
          },
          "aaName": {
            "type": "string"
          }
        }
      },
      "Validation": {
        "properties": {
          "aaId": {
            "type": "string"
          },
          "mapped": {
            "$ref": "#/components/schemas/ComponentList"
          },
          "aaName": {
            "type": "string"
          },
          "mappable": {
            "type": "boolean"
          },
          "unmapped": {
            "$ref": "#/components/schemas/ComponentList"
          }
        }
      },
      "XDMMapping": {
        "properties": {
          "cjaId": {
            "type": "string"
          },
          "cjaName": {
            "type": "string"
          },
          "aaId": {
            "type": "string"
          },
          "aaName": {
            "type": "string"
          }
        }
      },
      "ComponentList": {
        "properties": {
          "dateRanges": {
            "uniqueItems": true,
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ComponentMapping"
            }
          },
          "calcMetrics": {
            "uniqueItems": true,
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ComponentMapping"
            }
          },
          "metrics": {
            "uniqueItems": true,
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/XDMMapping"
            }
          },
          "segments": {
            "uniqueItems": true,
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ComponentMapping"
            }
          },
          "dimensions": {
            "uniqueItems": true,
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/XDMMapping"
            }
          }
        }
      },
      "IMigrationEvent": {
        "properties": {
          "cjaId": {
            "type": "string"
          },
          "aaId": {
            "type": "string"
          },
          "migrationStatus": {
            "type": "string",
            "enum": [
              "STARTED",
              "COMPLETED",
              "FAILED"
            ]
          },
          "migratedTime": {
            "type": "string",
            "format": "date-time"
          },
          "type": {
            "type": "string"
          },
          "globalCompanyId": {
            "type": "string"
          },
          "imsOrgId": {
            "type": "string"
          }
        }
      },
      "MigrationStatus": {
        "properties": {}
      },
      "JSONObject": {
        "properties": {
          "empty": {
            "type": "boolean"
          }
        }
      },
      "ComponentMigrationRequest": {
        "type": "object",
        "properties": {
          "aaId": {
            "type": "string"
          },
          "globalCompanyId": {
            "type": "string"
          },
          "imsOrgId": {
            "type": "string"
          },
          "imsUserId": {
            "type": "string"
          },
          "imsUserName": {
            "type": "string"
          },
          "rsidDataIdMap": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            }
          }
        }
      },
      "ControllerResponse": {
        "properties": {
          "result": {
            "type": "string",
            "enum": [
              "success",
              "failure",
              "partialSuccess"
            ]
          },
          "method": {
            "type": "string"
          },
          "message": {
            "type": "string"
          }
        }
      },
      "Response": {
        "type": "string",
        "format": "binary"
      },
      "MigrationEventStatusEntity": {
        "properties": {
          "imsUserName": {
            "type": "string"
          },
          "cjaName": {
            "type": "string"
          },
          "aaName": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "result": {
            "type": "object",
            "properties": {
              "empty": {
                "type": "boolean"
              }
            },
            "additionalProperties": {
              "type": "object"
            }
          },
          "cjaId": {
            "type": "string"
          },
          "rsidDataIdMap": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            }
          },
          "aaId": {
            "type": "string"
          },
          "migratorLogin": {
            "type": "string"
          },
          "migratorName": {
            "type": "string"
          },
          "migrationStatus": {
            "type": "string",
            "enum": [
              "STARTED",
              "COMPLETED",
              "FAILED"
            ]
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "imsUserId": {
            "type": "string"
          },
          "migratedTime": {
            "type": "string",
            "format": "date-time"
          },
          "globalCompanyId": {
            "type": "string"
          },
          "imsOrgId": {
            "type": "string"
          }
        }
      },
      "ResponseResult": {
        "properties": {}
      },
      "DeleteControllerResponse": {
        "properties": {
          "result": {
            "type": "string",
            "enum": [
              "success",
              "failure",
              "partialSuccess"
            ]
          },
          "method": {
            "type": "string"
          },
          "message": {
            "type": "string"
          }
        }
      },
      "ComponentMappingDto": {
        "properties": {
          "cjaId": {
            "type": "string"
          },
          "aaId": {
            "type": "string"
          },
          "migratedTime": {
            "type": "string",
            "format": "date-time"
          },
          "globalCompanyId": {
            "type": "string"
          },
          "imsOrgId": {
            "type": "string"
          }
        }
      },
      "BaseMappingDto": {
        "properties": {
          "cjaId": {
            "type": "string"
          },
          "aaId": {
            "type": "string"
          }
        }
      },
      "FieldMappingDto": {
        "properties": {
          "cjaId": {
            "type": "string"
          },
          "dataId": {
            "type": "string"
          },
          "xdmMapped": {
            "type": "boolean"
          },
          "aaId": {
            "type": "string"
          },
          "rsid": {
            "type": "string"
          },
          "xdmNotes": {
            "type": "string"
          }
        }
      }
    },
    "securitySchemes": {
      "x-service-auth": {
        "type": "apiKey",
        "description": "IMS service token",
        "name": "x-service-auth",
        "in": "header"
      },
      "x-gw-ims-org-id": {
        "type": "apiKey",
        "description": "Gateway IMS Org ID",
        "name": "x-gw-ims-org-id",
        "in": "header"
      },
      "x-proxy-global-company-id": {
        "type": "apiKey",
        "description": "Global Company ID",
        "name": "x-proxy-global-company-id",
        "in": "header"
      },
      "x-user-auth": {
        "type": "apiKey",
        "description": "IMS user token",
        "name": "x-user-auth",
        "in": "header"
      }
    },
    "parameters": {
      "authorization": {
        "name": "Authorization",
        "in": "header",
        "description": "The access token copied from your AA API client integration, prefixed with \"Bearer \". Note the space after the word \"Bearer\".",
        "required": true,
        "schema": {
          "type": "string"
        }
      },
      "x-api-key": {
        "name": "x-api-key",
        "in": "header",
        "description": "The API key copied from your AA API client integration. For more information on how to obtain this value, see [Getting started with the CJA API](https://developer.adobe.com/cja-apis/docs/getting-started/).",
        "required": true,
        "schema": {
          "type": "string"
        }
      }
    }
  }
}
