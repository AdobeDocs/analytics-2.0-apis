"use strict";(self.webpackChunkanalytics_2_0_apis=self.webpackChunkanalytics_2_0_apis||[]).push([[7684],{1575:function(e,t,a){a.r(t),a.d(t,{_frontmatter:function(){return l},default:function(){return s}});var n=a(87462),i=a(63366),o=(a(15007),a(64983)),r=a(91515),d=["components"],l={},m={_frontmatter:l},p=r.Z;function s(e){var t=e.components,a=(0,i.Z)(e,d);return(0,o.mdx)(p,(0,n.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,o.mdx)("h1",{id:"use-postman-with-the-adobe-analytics-20-api"},"Use Postman with the Adobe Analytics 2.0 API"),(0,o.mdx)("p",null,(0,o.mdx)("a",{parentName:"p",href:"https://www.postman.com/"},"Postman")," is a widely used API client that allows you to easily send API requests using a graphical interface. It provides a convenient environment to interact with the Adobe Analytics 2.0 API."),(0,o.mdx)("h2",{id:"prerequisites"},"Prerequisites"),(0,o.mdx)("ul",null,(0,o.mdx)("li",{parentName:"ul"},"Follow the instructions listed under ",(0,o.mdx)("a",{parentName:"li",href:"../index.md"},"Getting Started"),". This step includes developer permissions, creating an API client, and choosing ",(0,o.mdx)("inlineCode",{parentName:"li"},"OAuth")," as the authentication method. You can set the ",(0,o.mdx)("strong",{parentName:"li"},"Redirect URI")," and ",(0,o.mdx)("strong",{parentName:"li"},"Redirect URI pattern")," to any value; Postman does not use it for authentication."),(0,o.mdx)("li",{parentName:"ul"},"Download and install ",(0,o.mdx)("a",{parentName:"li",href:"https://www.postman.com/downloads/"},"Postman"),".")),(0,o.mdx)("h2",{id:"configure-postman-for-authentication"},"Configure Postman for authentication"),(0,o.mdx)("p",null,"You must first configure Postman to authenticate with your Adobe ID. Once you authenticate, Postman generates a token that you can include in API calls."),(0,o.mdx)("ol",null,(0,o.mdx)("li",{parentName:"ol"},(0,o.mdx)("p",{parentName:"li"},"In a new request tab, click the ",(0,o.mdx)("strong",{parentName:"p"},"Authorization")," section.")),(0,o.mdx)("li",{parentName:"ol"},(0,o.mdx)("p",{parentName:"li"},"Under the ",(0,o.mdx)("strong",{parentName:"p"},"Type")," dropdown, select ",(0,o.mdx)("strong",{parentName:"p"},"OAuth 2.0"),". Several configuration options appear to the right.")),(0,o.mdx)("li",{parentName:"ol"},(0,o.mdx)("p",{parentName:"li"},"Use the following configuration options:"),(0,o.mdx)("table",{parentName:"li"},(0,o.mdx)("thead",{parentName:"table"},(0,o.mdx)("tr",{parentName:"thead"},(0,o.mdx)("th",{parentName:"tr",align:null},"Option"),(0,o.mdx)("th",{parentName:"tr",align:null},"Value"))),(0,o.mdx)("tbody",{parentName:"table"},(0,o.mdx)("tr",{parentName:"tbody"},(0,o.mdx)("td",{parentName:"tr",align:null},"Access Token"),(0,o.mdx)("td",{parentName:"tr",align:null},"A dropdown that lets you select from previously configured tokens. If you are following these steps for the first time, this dropdown is empty. If you already have a token configured, you can select the desired token, which populates all of the below fields for you.")),(0,o.mdx)("tr",{parentName:"tbody"},(0,o.mdx)("td",{parentName:"tr",align:null},"Header Prefix"),(0,o.mdx)("td",{parentName:"tr",align:null},(0,o.mdx)("inlineCode",{parentName:"td"},"Bearer"))),(0,o.mdx)("tr",{parentName:"tbody"},(0,o.mdx)("td",{parentName:"tr",align:null},"Token name"),(0,o.mdx)("td",{parentName:"tr",align:null},"Any value that you'd like")),(0,o.mdx)("tr",{parentName:"tbody"},(0,o.mdx)("td",{parentName:"tr",align:null},"Grant Type"),(0,o.mdx)("td",{parentName:"tr",align:null},(0,o.mdx)("inlineCode",{parentName:"td"},"Authorization Code"))),(0,o.mdx)("tr",{parentName:"tbody"},(0,o.mdx)("td",{parentName:"tr",align:null},"Callback URL"),(0,o.mdx)("td",{parentName:"tr",align:null},"(Optional) The ",(0,o.mdx)("strong",{parentName:"td"},"Redirect URI")," in the Adobe Developer Console")),(0,o.mdx)("tr",{parentName:"tbody"},(0,o.mdx)("td",{parentName:"tr",align:null},"Authorize using browser"),(0,o.mdx)("td",{parentName:"tr",align:null},"Unchecked")),(0,o.mdx)("tr",{parentName:"tbody"},(0,o.mdx)("td",{parentName:"tr",align:null},"Auth URL"),(0,o.mdx)("td",{parentName:"tr",align:null},(0,o.mdx)("inlineCode",{parentName:"td"},"https://ims-na1.adobelogin.com/ims/authorize/v1"))),(0,o.mdx)("tr",{parentName:"tbody"},(0,o.mdx)("td",{parentName:"tr",align:null},"Access Token URL"),(0,o.mdx)("td",{parentName:"tr",align:null},(0,o.mdx)("inlineCode",{parentName:"td"},"https://ims-na1.adobelogin.com/ims/token/v1"))),(0,o.mdx)("tr",{parentName:"tbody"},(0,o.mdx)("td",{parentName:"tr",align:null},"Client ID"),(0,o.mdx)("td",{parentName:"tr",align:null},"The ",(0,o.mdx)("strong",{parentName:"td"},"Client ID")," in the Adobe Developer Console")),(0,o.mdx)("tr",{parentName:"tbody"},(0,o.mdx)("td",{parentName:"tr",align:null},"Client Secret"),(0,o.mdx)("td",{parentName:"tr",align:null},"The ",(0,o.mdx)("strong",{parentName:"td"},"Client Secret")," in the Adobe Developer Console")),(0,o.mdx)("tr",{parentName:"tbody"},(0,o.mdx)("td",{parentName:"tr",align:null},"Scope"),(0,o.mdx)("td",{parentName:"tr",align:null},(0,o.mdx)("inlineCode",{parentName:"td"},"openid AdobeID read_organizations additional_info.projectedProductContext additional_info.job_function"))),(0,o.mdx)("tr",{parentName:"tbody"},(0,o.mdx)("td",{parentName:"tr",align:null},"State"),(0,o.mdx)("td",{parentName:"tr",align:null},"Can be left blank")),(0,o.mdx)("tr",{parentName:"tbody"},(0,o.mdx)("td",{parentName:"tr",align:null},"Client Authentication"),(0,o.mdx)("td",{parentName:"tr",align:null},(0,o.mdx)("inlineCode",{parentName:"td"},"Send client credentials in body"))))),(0,o.mdx)("p",{parentName:"li"},(0,o.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"601px"}},"\n      ",(0,o.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"116.875%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,o.mdx)("picture",{parentName:"span"},"\n          ",(0,o.mdx)("source",{parentName:"picture",srcSet:["/analytics-2.0-apis/static/c3a5b46b797b2e9e5b071228fc4f116b/5530d/postman-oauth2-token.webp 320w","/analytics-2.0-apis/static/c3a5b46b797b2e9e5b071228fc4f116b/cb4e7/postman-oauth2-token.webp 601w"],sizes:"(max-width: 601px) 100vw, 601px",type:"image/webp"}),"\n          ",(0,o.mdx)("source",{parentName:"picture",srcSet:["/analytics-2.0-apis/static/c3a5b46b797b2e9e5b071228fc4f116b/dd4a7/postman-oauth2-token.png 320w","/analytics-2.0-apis/static/c3a5b46b797b2e9e5b071228fc4f116b/f6e13/postman-oauth2-token.png 601w"],sizes:"(max-width: 601px) 100vw, 601px",type:"image/png"}),"\n          ",(0,o.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/analytics-2.0-apis/static/c3a5b46b797b2e9e5b071228fc4f116b/f6e13/postman-oauth2-token.png",alt:"Token configuration",title:"Token configuration",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    "))),(0,o.mdx)("li",{parentName:"ol"},(0,o.mdx)("p",{parentName:"li"},"Click ",(0,o.mdx)("strong",{parentName:"p"},"Get New Access Token"),". A popup appears requesting your AdobeID credentials.")),(0,o.mdx)("li",{parentName:"ol"},(0,o.mdx)("p",{parentName:"li"},"Authenticate using the popup. Make sure that you log in to the same IMS org that you created the API client in the Adobe Developer Console.")),(0,o.mdx)("li",{parentName:"ol"},(0,o.mdx)("p",{parentName:"li"},"Once authenticated, the popup closes and a modal window appears with your access token.")),(0,o.mdx)("li",{parentName:"ol"},(0,o.mdx)("p",{parentName:"li"},"Click the ",(0,o.mdx)("strong",{parentName:"p"},"Use Token")," button."))),(0,o.mdx)("p",null,"The token is now configured, and you can use it in any API requests from Postman. When the token expires (typically after 24 hours), you can navigate back to the Authorization section and click ",(0,o.mdx)("strong",{parentName:"p"},"Get New Access Token"),". Once you authenticate using your Adobe ID, a new access token is generated."),(0,o.mdx)("p",null,"To refresh authentication tokens, see the ",(0,o.mdx)("a",{parentName:"p",href:"https://developer.adobe.com/developer-console/docs/guides/authentication/UserAuthentication/IMS/#refreshing-access-tokens"},"Authentication Guide.")),(0,o.mdx)("h2",{id:"obtain-a-global-company-id"},"Obtain a global company ID"),(0,o.mdx)("p",null,"Most endpoints require a ",(0,o.mdx)("inlineCode",{parentName:"p"},"globalCompanyId")," value in the request URL. You can use the Discovery API to obtain this value."),(0,o.mdx)("ol",null,(0,o.mdx)("li",{parentName:"ol"},"Set the request URL to ",(0,o.mdx)("inlineCode",{parentName:"li"},"https://analytics.adobe.io/discovery/me"),". Make sure that the request type is ",(0,o.mdx)("inlineCode",{parentName:"li"},"GET"),"."),(0,o.mdx)("li",{parentName:"ol"},"Make sure that the ",(0,o.mdx)("strong",{parentName:"li"},"Authorization")," section is set to use the desired token."),(0,o.mdx)("li",{parentName:"ol"},"Click the ",(0,o.mdx)("strong",{parentName:"li"},"Headers")," section and add the following key/value pair:",(0,o.mdx)("ul",{parentName:"li"},(0,o.mdx)("li",{parentName:"ul"},"Key: ",(0,o.mdx)("inlineCode",{parentName:"li"},"x-api-key")),(0,o.mdx)("li",{parentName:"ul"},"Value: the ",(0,o.mdx)("strong",{parentName:"li"},"Client ID")," in the Adobe Developer Console"))),(0,o.mdx)("li",{parentName:"ol"},"Click ",(0,o.mdx)("strong",{parentName:"li"},"Send"),". The API responds with a JSON object containing information around your user ID, including a ",(0,o.mdx)("inlineCode",{parentName:"li"},"globalCompanyId"),".")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-json"},'{\n    "imsUserId": "B6A778CE...CE48E0A485E74@aed3014d62d...5d485fed.e",\n    "imsOrgs": [\n        {\n            "imsOrgId": "52A16ACB5...D3769A495C99@AdobeOrg",\n            "companies": [\n                {\n                    "globalCompanyId": "exampleco",\n                    "companyName": "Example Company",\n                    "apiRateLimitPolicy": "aa_api_tier10_tp",\n                    "dpc": "pnw"\n                }\n            ]\n        }\n    ]\n}\n')),(0,o.mdx)("p",null,"You now have everything needed to make requests to the Adobe Analytics 2.0 API in Postman."),(0,o.mdx)("h2",{id:"send-a-basic-get-request"},"Send a basic GET request"),(0,o.mdx)("p",null,"Use the API to retrieve a list of Workspace projects that the user created."),(0,o.mdx)("ol",null,(0,o.mdx)("li",{parentName:"ol"},"Set the request URL to ",(0,o.mdx)("inlineCode",{parentName:"li"},"https://analytics.adobe.io/api/{GLOBALCOMPANYID}/projects"),". Make sure that you replace part of the endpoint URL with your organization's global company ID, and that the request type is ",(0,o.mdx)("inlineCode",{parentName:"li"},"GET"),"."),(0,o.mdx)("li",{parentName:"ol"},"Make sure that the ",(0,o.mdx)("strong",{parentName:"li"},"Authorization")," section is set to use the desired token."),(0,o.mdx)("li",{parentName:"ol"},"Make sure that the ",(0,o.mdx)("strong",{parentName:"li"},"Headers")," section contains the ",(0,o.mdx)("inlineCode",{parentName:"li"},"x-api-key")," key, and that the value is set to the ",(0,o.mdx)("strong",{parentName:"li"},"Client ID")," in the Adobe Developer Console."),(0,o.mdx)("li",{parentName:"ol"},"Click ",(0,o.mdx)("strong",{parentName:"li"},"Send"),". The API responds with a JSON object containing Analysis Workspace projects that you created.")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-json"},'[\n    {\n        "id": "639a2325a2...66870efce6a",\n        "name": "Example Workspace project",\n        "description": "",\n        "rsid": "examplersid",\n        "type": "project",\n        "owner": {\n            "id": 123456789\n        },\n        "created": "YYYY-12-14T19:25:25Z"\n    }\n]\n')),(0,o.mdx)("h2",{id:"send-a-basic-post-request"},"Send a basic POST request"),(0,o.mdx)("p",null,"Use the API to create a basic calculated metric. The calculated metric definition is contained within the request's body."),(0,o.mdx)("ol",null,(0,o.mdx)("li",{parentName:"ol"},(0,o.mdx)("p",{parentName:"li"},"Set the request URL to ",(0,o.mdx)("inlineCode",{parentName:"p"},"https://analytics.adobe.io/api/{GLOBALCOMPANYID}/calculatedmetrics"),". Make sure that you replace part of the endpoint URL with your organization's global company ID.")),(0,o.mdx)("li",{parentName:"ol"},(0,o.mdx)("p",{parentName:"li"},"Set the request type to ",(0,o.mdx)("inlineCode",{parentName:"p"},"POST"),".")),(0,o.mdx)("li",{parentName:"ol"},(0,o.mdx)("p",{parentName:"li"},"Make sure that the ",(0,o.mdx)("strong",{parentName:"p"},"Authorization")," section is set to use the desired token.")),(0,o.mdx)("li",{parentName:"ol"},(0,o.mdx)("p",{parentName:"li"},"Make sure that the ",(0,o.mdx)("strong",{parentName:"p"},"Headers")," section contains the ",(0,o.mdx)("inlineCode",{parentName:"p"},"x-api-key")," key, and that the value is set to the ",(0,o.mdx)("strong",{parentName:"p"},"Client ID")," in the Adobe Developer Console.")),(0,o.mdx)("li",{parentName:"ol"},(0,o.mdx)("p",{parentName:"li"},"Go to the ",(0,o.mdx)("strong",{parentName:"p"},"Body")," section, set the radio button to ",(0,o.mdx)("strong",{parentName:"p"},"Raw"),", and set the dropdown next to it to ",(0,o.mdx)("strong",{parentName:"p"},"JSON"),".")),(0,o.mdx)("li",{parentName:"ol"},(0,o.mdx)("p",{parentName:"li"},"Paste the following JSON object in the Body field. It is a basic calculated metric that returns ",(0,o.mdx)("inlineCode",{parentName:"p"},"Pages views + 1"),". Make sure that you replace the ",(0,o.mdx)("inlineCode",{parentName:"p"},"rsid")," field with a report suite in your organization."),(0,o.mdx)("pre",{parentName:"li"},(0,o.mdx)("code",{parentName:"pre",className:"language-json"},'{\n    "rsid": "examplersid",\n    "name": "Example calculated metric",\n    "definition": {\n        "formula": {\n            "func": "add",\n            "col1": {\n                "func": "metric",\n                "name": "metrics/pageviews",\n                "description": "Page Views"\n            },\n            "col2": 1\n        },\n        "func": "calc-metric",\n        "version": [\n            1,\n            0,\n            0\n        ]\n    }\n}\n'))),(0,o.mdx)("li",{parentName:"ol"},(0,o.mdx)("p",{parentName:"li"},"The API returns a JSON object containing details around the created calculated metric, including the ",(0,o.mdx)("inlineCode",{parentName:"p"},"id")," that you can reference in other API calls.")),(0,o.mdx)("li",{parentName:"ol"},(0,o.mdx)("p",{parentName:"li"},"Log in to ",(0,o.mdx)("a",{parentName:"p",href:"https://experience.adobe.com"},"Adobe Analytics")," and navigate to ",(0,o.mdx)("strong",{parentName:"p"},"Components")," > ",(0,o.mdx)("strong",{parentName:"p"},"Calculated metrics"),". Note that you can see the calculated metric that you created through the API.")),(0,o.mdx)("li",{parentName:"ol"},(0,o.mdx)("p",{parentName:"li"},"You can delete the calculated metric through the Analytics UI, or you can delete it using the API call ",(0,o.mdx)("inlineCode",{parentName:"p"},"DELETE https://analytics.adobe.io/api/{GLOBALCOMPANYID}/calculatedmetrics/{ID}"),"."))),(0,o.mdx)("h2",{id:"additional-learning"},"Additional learning"),(0,o.mdx)("p",null,"The following video tutorials provide additional information authenticating and sending API calls:"),(0,o.mdx)("ul",null,(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("a",{parentName:"li",href:"https://www.youtube.com/watch?v=lrg1MuVi0Fo"},"Using Postman to Make Adobe Analytics 2.0 API Requests")),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("a",{parentName:"li",href:"https://www.youtube.com/watch?v=j1kI3peSXhY"},"Using Analysis Workspace to Build Adobe Analytics API 2.0 Requests"))))}s.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guides-use-cases-postman-md-d514ec22de6668c2e183.js.map