(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[5228],{23435:function(e,n,t){"use strict";t.r(n),t.d(n,{_frontmatter:function(){return o},default:function(){return l}});var a=t(22122),s=t(19756),i=(t(15007),t(64983)),m=t(99536),d=["components"],o={},r={_frontmatter:o},p=m.Z;function l(e){var n=e.components,t=(0,s.Z)(e,d);return(0,i.mdx)(p,(0,a.Z)({},r,t,{components:n,mdxType:"MDXLayout"}),(0,i.mdx)("h1",{id:"segments-api"},"Segments API"),(0,i.mdx)("p",null,(0,i.mdx)("em",{parentName:"p"},"This help page describes how to use the segments endpoint. For more information around how to use segments in Reporting API calls, see ",(0,i.mdx)("a",{parentName:"em",href:"../reports/segments.md"},"Segments")," in the Reporting API guide.")),(0,i.mdx)("p",null,"The Analytics 2.0 Segments APIs allow you to retrieve, update, or create segments programmatically through Adobe Developer. The APIs use the same data and methods that are used when working with segments in the UI. See ",(0,i.mdx)("a",{parentName:"p",href:"https://experienceleague.adobe.com/docs/analytics/components/segmentation/seg-home.html"},"Segments")," in the Analytics Components user guide for more information."),(0,i.mdx)("h2",{id:"retrieve-multiple-segments"},"Retrieve multiple segments"),(0,i.mdx)("p",null,"When requesting a list of segments, you can use multiple URL query parameter filters. You can filter by ",(0,i.mdx)("inlineCode",{parentName:"p"},"name"),", ",(0,i.mdx)("inlineCode",{parentName:"p"},"tagNames"),", segment id (",(0,i.mdx)("inlineCode",{parentName:"p"},"segmentFilter"),"), and ",(0,i.mdx)("inlineCode",{parentName:"p"},"rsids"),". For example, to retrieve all segments tagged as part of the ",(0,i.mdx)("em",{parentName:"p"},"SpringPromotion")," campaign, you can add the URL parameter ",(0,i.mdx)("inlineCode",{parentName:"p"},"tagNames=SpringPromotion"),". The ",(0,i.mdx)("inlineCode",{parentName:"p"},"tagNames"),", ",(0,i.mdx)("inlineCode",{parentName:"p"},"segmentFIlter"),", and ",(0,i.mdx)("inlineCode",{parentName:"p"},"rsids")," filters accept comma-delimited lists. These lists should be short, with no more than 100 items. While segments are global to a company, the ",(0,i.mdx)("inlineCode",{parentName:"p"},"rsid")," filter specifically designates the Report suite ID that the segment was created/validated against. The ",(0,i.mdx)("inlineCode",{parentName:"p"},"rsid")," filter designation does not mean that it is the only report suite the segment can be used on."),(0,i.mdx)("p",null,(0,i.mdx)("inlineCode",{parentName:"p"},"GET https://analytics.adobe.io/api/{REPORT_SUITE_ID}/segments")),(0,i.mdx)("h2",{id:"retrieve-a-single-segment"},"Retrieve a single segment"),(0,i.mdx)("p",null,"You can retrieve segments individually by segment ID."),(0,i.mdx)("p",null,(0,i.mdx)("inlineCode",{parentName:"p"},"GET https://analytics.adobe.io/api/{REPORT_SUITE_ID}/segments/{ID}")),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "s300000022_5bb7c94e80f0073611afb35c",\n  "name": "Example segment",\n  "description": "",\n  "rsid": "examplersid",\n  "owner": {\n    "id": 596983\n  }\n}\n')),(0,i.mdx)("h2",{id:"create-a-segment"},"Create a segment"),(0,i.mdx)("p",null,"Adobe recommends using the product UI to create segments. If you opt to use the API to create segments, note that some fields are ignored. For example, ",(0,i.mdx)("inlineCode",{parentName:"p"},"tags")," are not stored in segments themselves and are ignored if included when creating segments through the API. Use the ",(0,i.mdx)("a",{parentName:"p",href:"../componentmetadata/tags.md"},"Tags endpoint")," to set or modify a segment's tags."),(0,i.mdx)("p",null,"This API call requires a JSON request body, representing the segment definition to create."),(0,i.mdx)("p",null,(0,i.mdx)("inlineCode",{parentName:"p"},"PUT https://analytics.adobe.io/api/{REPORT_SUITE_ID}/segments/")),(0,i.mdx)("h2",{id:"update-a-segment"},"Update a segment"),(0,i.mdx)("p",null,"You can edit existing segments using a ",(0,i.mdx)("inlineCode",{parentName:"p"},"PUT")," API call. Note that ",(0,i.mdx)("inlineCode",{parentName:"p"},"tags"),", ",(0,i.mdx)("inlineCode",{parentName:"p"},"compatibility"),", and ",(0,i.mdx)("inlineCode",{parentName:"p"},"reportSuiteName")," cannot be edited."),(0,i.mdx)("p",null,"The ",(0,i.mdx)("inlineCode",{parentName:"p"},"PUT")," endpoint also supports partial updates. Instead of sending the entire JSON object to the API, you can only send fields that you want to update. For example, if you only want to update the name, use the JSON ",(0,i.mdx)("inlineCode",{parentName:"p"},'{"name":"Updated name"}'),". The entire object is returned in the response, modified by the requested expansions."),(0,i.mdx)("p",null,(0,i.mdx)("inlineCode",{parentName:"p"},"PUT https://analytics.adobe.io/api/{REPORT_SUITE_ID}/segments/{ID}")),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "s300000022_5bb7c94e80f0073611afb35c",\n  "name": "Updated Example segment",\n  "description": "",\n  "rsid": "examplersid",\n  "owner": {\n    "id": 596983\n  }\n}\n')),(0,i.mdx)("h2",{id:"delete-a-segment"},"Delete a segment"),(0,i.mdx)("p",null,"If you delete a segment, it is hidden from all users in all menus. It is also no longer returned when retrieving multiple segments in an API call. However, reports and other sources that reference the deleted segment can still use it. You can also continue to request it from the single segment API endpoint."),(0,i.mdx)("p",null,(0,i.mdx)("inlineCode",{parentName:"p"},"DELETE https://analytics.adobe.io/api/{REPORT_SUITE_ID}/segments/{ID}")),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "status": "ok"\n}\n')))}l.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guides-endpoints-segments-index-md-9127912b0d23bdf57e1f.js.map