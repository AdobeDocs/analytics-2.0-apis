(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[9252],{20907:function(e,a,n){"use strict";n.r(a),n.d(a,{_frontmatter:function(){return p},default:function(){return u}});var t,o=n(22122),r=n(19756),i=(n(15007),n(64983)),d=n(99536),s=["components"],p={},l=(t="CodeBlock",function(e){return console.warn("Component "+t+" was not imported, exported, or provided by MDXProvider as global scope"),(0,i.mdx)("div",e)}),m={_frontmatter:p},c=d.Z;function u(e){var a=e.components,n=(0,r.Z)(e,s);return(0,i.mdx)(c,(0,o.Z)({},m,n,{components:a,mdxType:"MDXLayout"}),(0,i.mdx)("h1",{id:"server-call-estimate-endpoint"},"Server call estimate endpoint"),(0,i.mdx)("p",null,"The ",(0,i.mdx)("inlineCode",{parentName:"p"},"/serverCallEstimate")," endpoint calculates the number of server calls for the given report suite and date range provided.  It also returns a ",(0,i.mdx)("inlineCode",{parentName:"p"},"validationToken"),", which is passed to ",(0,i.mdx)("inlineCode",{parentName:"p"},"/job")," in the ",(0,i.mdx)("inlineCode",{parentName:"p"},"validationToken")," query string parameter."),(0,i.mdx)("p",null,"You can calculate the approximate cost of a repair job with the following formula:"),(0,i.mdx)("p",null,(0,i.mdx)("inlineCode",{parentName:"p"},"[Server calls returned by API call] * [CPMM rate found in sales order]")),(0,i.mdx)("p",null,"The date range is specified in days and is based on the time zone of the report suite. The date range is inclusive of the start and end dates for estimates and repairs. The ",(0,i.mdx)("inlineCode",{parentName:"p"},"ANALYTICS_GLOBAL_COMPANY_ID")," can be found in API Access under ",(0,i.mdx)("a",{parentName:"p",href:"https://experienceleague.adobe.com/docs/analytics/admin/company-settings/c-company-settings.html"},"Company settings")," in Adobe Analytics."),(0,i.mdx)("p",null,(0,i.mdx)("inlineCode",{parentName:"p"},"GET https://analytics.adobe.io/api/{ANALYTICS_GLOBAL_COMPANY_ID}/datarepair/v1/{REPORT_SUITE_ID}/serverCallEstimate")),(0,i.mdx)(l,{slots:"heading, code",repeat:"2",languages:"CURL,JSON",mdxType:"CodeBlock"}),(0,i.mdx)("h4",{id:"request"},"Request"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-sh"},'curl -X GET -H "accept: application/json" \\\n    -H "x-proxy-global-company-id: {ANALYTICS_GLOBAL_COMPANY_ID}" \\\n    -H "Authorization: Bearer {ACCESS_TOKEN}" \\\n    -H "x-api-key: {API_KEY/CLIENT_ID}" \\\n    "https://analytics.adobe.io/api/{ANALYTICS_GLOBAL_COMPANY_ID}/datarepair/v1/examplersid/serverCallEstimate?dateRangeStart={YYYY-03-28}&dateRangeEnd={YYYY-03-28}"\n')),(0,i.mdx)("h4",{id:"response"},"Response"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-json"},'{\n    "dateRangeEnd": "YYYY-03-28",\n    "dateRangeStart": "YYYY-03-28",\n    "reportSuiteId": "examplersid",\n    "serverCallEstimate": 150000,\n    "validationToken": "gAAAAABee777APCKafp7zDu-I3kFIEq_4AoeZSIap8wt0RhhNHmVdjnlrKCjPOo_PW74uj0qvDPG9B_SiYOe4p1Rg6Um1vCpL7dLwtkBX7i8wNheVPhb2j4nAapE-k6WPVcdP7FXNdjKvogMwHBEvGpAz6uO6TmpxwZUa3LMixaeN65BOFZW3i9ZnzZ400oCHte6XAX6Mo7QF-PyZZ6D--693K0cO_oUYg=="\n}\n')))}u.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guides-endpoints-data-repair-server-call-estimate-md-7c998d862c55c93d2f5e.js.map