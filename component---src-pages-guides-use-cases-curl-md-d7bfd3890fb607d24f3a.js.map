{"version":3,"file":"component---src-pages-guides-use-cases-curl-md-d7bfd3890fb607d24f3a.js","mappings":"0RAQaA,EAAe,CAAC,EACvBC,EAAc,CAClBD,aAAAA,GAEIE,EAAYC,EAAAA,EACH,SAASC,EAAT,GAGZ,IAFDC,EAEC,EAFDA,WACGC,GACF,YACD,OAAO,SAACJ,GAAD,UAAeD,EAAiBK,EAAhC,CAAuCD,WAAYA,EAAYE,QAAQ,eAG5E,eACE,GAAM,sCADR,wCAGA,iEACA,oBACE,eAAIC,WAAW,MAAf,sBACA,eAAIA,WAAW,MAAf,8BACA,eAAIA,WAAW,MAAf,6BAEF,eACE,GAAM,oBADR,qBAGA,kFACA,mBAAG,uBAAYA,WAAW,KAAvB,oOACH,2CACA,oBACE,eAAIA,WAAW,MAAf,oEAAwF,uBAAYA,WAAW,MAAvB,eAAxF,mCACA,eAAIA,WAAW,MAAf,YAAgC,uBAAYA,WAAW,MAAvB,kBAAhC,mEACA,eAAIA,WAAW,MAAf,uDACA,eAAIA,WAAW,MAAf,2GAA+H,uBAAYA,WAAW,MAAvB,gBAA/H,QAEF,eACE,GAAM,4BADR,6BAGA,2EACA,qBAAK,iBAAMA,WAAW,MAClB,UAAa,eADZ,oLAIL,mDACA,oBACE,eAAIA,WAAW,OACb,cAAGA,WAAW,MAAd,YAA+B,uBAAYA,WAAW,KAAvB,+BAA/B,sFAEF,eAAIA,WAAW,OACb,cAAGA,WAAW,MAAd,YAA+B,uBAAYA,WAAW,KAAvB,eAA/B,sEAEF,eAAIA,WAAW,OACb,cAAGA,WAAW,MAAd,YAA+B,uBAAYA,WAAW,KAAvB,mBAA/B,0EAEF,eAAIA,WAAW,OACb,cAAGA,WAAW,MAAd,mDAAsE,uBAAYA,WAAW,KAAvB,gBAAtE,gCACA,gBAAKA,WAAW,OAAK,iBAAMA,WAAW,MAClC,UAAa,iBADI,uxBAqCrB,cAAGA,WAAW,OAAK,eAAIA,WAAW,KAAf,sHAAyI,uBAAYA,WAAW,MAAvB,gBAAzI,yIAA2U,uBAAYA,WAAW,MAAvB,kBAA3U,mFAAyd,uBAAYA,WAAW,MAAvB,eAAzd,QAErB,eAAIA,WAAW,OACb,cAAGA,WAAW,MAAd,iEAGJ,eACE,GAAM,wDADR,yDAGA,iDACA,qBAAK,iBAAMA,WAAW,MAClB,UAAa,eADZ,mLAIL,oBACE,eAAIA,WAAW,OACb,cAAGA,WAAW,MAAd,YAA+B,uBAAYA,WAAW,KAAvB,kBAA/B,2FAEF,eAAIA,WAAW,OACb,cAAGA,WAAW,MAAd,YAA+B,uBAAYA,WAAW,KAAvB,eAA/B,sEAEF,eAAIA,WAAW,OACb,cAAGA,WAAW,MAAd,wEACA,gBAAKA,WAAW,OAAK,iBAAMA,WAAW,MAClC,UAAa,iBADI,sfAyBvB,eAAIA,WAAW,OACb,cAAGA,WAAW,MAAd,YAA+B,uBAAYA,WAAW,KAAvB,mBAA/B,kEAA4J,uBAAYA,WAAW,KAAvB,WAA5J,kBAAiO,uBAAYA,WAAW,KAAvB,iBAAjO,uCAAiU,uBAAYA,WAAW,KAAvB,gBAAjU,0EACA,gBAAKA,WAAW,OAAK,iBAAMA,WAAW,MAClC,UAAa,eADI,sKAOvB,eAAIA,WAAW,OACb,cAAGA,WAAW,MAAd,YAA+B,uBAAYA,WAAW,KAAvB,iBAA/B,SAAiG,uBAAYA,WAAW,KAAvB,cAAjG,yDAEF,eAAIA,WAAW,OACb,cAAGA,WAAW,MAAd,wFAGJ,+BAAgB,uBAAYA,WAAW,KAAvB,gBAAhB,MAA8E,uBAAYA,WAAW,KAAvB,qBAA9E,SAAoJ,uBAAYA,WAAW,KAAvB,aAApJ,gDAAyP,cAAGA,WAAW,IACnQ,KAAQ,uBAD6O,iBAAzP,0DAKH,CAEDJ,EAAWK,gBAAiB,C","sources":["webpack://analytics-2.0-apis/./src/pages/guides/use-cases/curl.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/analytics-2.0-apis/analytics-2.0-apis/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"use-curl-with-the-analytics-20-api\"\n    }}>{`Use cURL with the Analytics 2.0 API`}</h1>\n    <p>{`To obtain Oauth authentication using cURL:`}</p>\n    <ol>\n      <li parentName=\"ol\">{`Get an auth code.`}</li>\n      <li parentName=\"ol\">{`Generate an access token.`}</li>\n      <li parentName=\"ol\">{`Test your access token.`}</li>\n    </ol>\n    <h2 {...{\n      \"id\": \"get-an-auth-code\"\n    }}>{`Get an auth code`}</h2>\n    <p>{`Use the following model as a cURL request for an auth code:`}</p>\n    <p><inlineCode parentName=\"p\">{`https://ims-na1.adobelogin.com/ims/authorize?client_id={CLIENT ID}&redirect_uri={REDIRECT URI}&scope=openid,AdobeID,read_organizations,additional_info.job_function,additional_info.projectedProductContext&response_type=code`}</inlineCode></p>\n    <p>{`To get an auth code:`}</p>\n    <ol>\n      <li parentName=\"ol\">{`Copy the Client ID from your OAuth client and paste it into the `}<inlineCode parentName=\"li\">{`{CLIENT ID}`}</inlineCode>{` placeholder in the URI above.`}</li>\n      <li parentName=\"ol\">{`Replace `}<inlineCode parentName=\"li\">{`{REDIRECT URI}`}</inlineCode>{` with the redirect URI you specified when creating the client.`}</li>\n      <li parentName=\"ol\">{`Paste the complete URI into your favorite browser.`}</li>\n      <li parentName=\"ol\">{`After authenticating via IMS, copy the auth code query parameter in the URI (the parameter begins with `}<inlineCode parentName=\"li\">{`code=eyJ4...`}</inlineCode>{`).`}</li>\n    </ol>\n    <h2 {...{\n      \"id\": \"generate-an-access-token\"\n    }}>{`Generate an access token`}</h2>\n    <p>{`Use the following model to generate an access token:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-sh\"\n      }}>{`curl --data \"grant_type=authorization_code&client_id={CLIENT ID}&client_secret={CLIENT SECRET}&code={AUTH CODE QUERY PARAMETER}\" https://ims-na1.adobelogin.com/ims/token/v1\n`}</code></pre>\n    <p>{`To generate an access token:`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Replace `}<inlineCode parentName=\"p\">{`{AUTH CODE QUERY PARAMETER}`}</inlineCode>{` with the auth code you copied from the previous step in the above cURL request.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Replace `}<inlineCode parentName=\"p\">{`{CLIENT ID}`}</inlineCode>{` in the above request with the Client ID from your Oauth client.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Replace `}<inlineCode parentName=\"p\">{`{CLIENT SECRET}`}</inlineCode>{` in the above request with the Client Secret from your Oauth client.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Run the cURL command. The response includes an `}<inlineCode parentName=\"p\">{`access_token`}</inlineCode>{` attribute, as shown below:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-json\"\n          }}>{`{\n  \"account_type\": \"type1\",\n  \"utcOffset\": \"null\",\n  \"preferred_languages\": [\n    \"en-us\"\n  ],\n  \"projectedProductContext\": [\n    {\n      \"prodCtx\": {\n        \"serviceCode\": \"dma_analytics\",\n        \"global_company_id\": \"testco0\",\n        \"login_company\": \"Test Company\",\n        ...\n      }\n    },\n    ...\n  ],\n  \"displayName\": \"James Ross\",\n  \"last_name\": \"Ross\",\n  \"token_type\": \"bearer\",\n  \"userId\": \"JAMESROSS@AdobeID\",\n  \"access_token\": \"eyJ4...TOKEN_OMITTED\",\n  \"refresh_token\": \"eyJ4...TOKEN_OMITTED\",\n  \"emailVerified\": \"true\",\n  \"phoneNumber\": null,\n  \"countryCode\": \"US\",\n  \"name\": \"Bob Ross\",\n  \"mrktPerm\": \"EMAIL:false\",\n  \"mrktPermEmail\": \"false\",\n  \"expires_in\": 86399988,\n  \"first_name\": \"James\",\n  \"email\": \"test@adobe.com\",\n  ...\n}\n`}</code></pre>\n        <p parentName=\"li\"><em parentName=\"p\">{`Note: If you have access to numerous product profiles, the response can be very large. If it is so large that the `}<inlineCode parentName=\"em\">{`access_token`}</inlineCode>{` is truncated from the response, you can write it to a file in order to find your access token. To write the response to a file, add `}<inlineCode parentName=\"em\">{`>> output.json`}</inlineCode>{` to the end of your cURL request. The response is then written to a file named `}<inlineCode parentName=\"em\">{`output.json`}</inlineCode>{`.`}</em></p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Copy the access token to test it in the following section.`}</p>\n      </li>\n    </ol>\n    <h2 {...{\n      \"id\": \"test-your-access-token-by-calling-the-analytics-apis\"\n    }}>{`Test your access token by calling the Analytics APIs`}</h2>\n    <p>{`To test your access token:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-sh\"\n      }}>{`curl -X GET --header \"Accept: application/json\" --header \"x-api-key: {CLIENT ID}\" --header \"Authorization: Bearer {ACCESS_TOKEN}\" \"https://analytics.adobe.io/discovery/me\"\n`}</code></pre>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Replace `}<inlineCode parentName=\"p\">{`{ACCESS_TOKEN}`}</inlineCode>{` with the access token you copied from the previous step into the above cURL request.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Replace `}<inlineCode parentName=\"p\">{`{CLIENT ID}`}</inlineCode>{` in the above request with the client ID from your Oauth client.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Run the cURL command. The following JSON shows an example response:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-json\"\n          }}>{`{\n  \"imsUserId\": \"1B..OMITTED..01@AdobeID\",\n  \"imsOrgs\": [\n    {\n      \"imsOrgId\": \"EA..OMITTED..29@AdobeOrg\",\n      \"companies\": [\n        {\n          \"globalCompanyId\": \"testco0\",\n          \"companyName\": \"Test Company\",\n          \"apiRateLimitPolicy\": \"aa_api_tier10_tp\"\n        },\n        {\n          \"globalCompanyId\": \"anothe0\",\n          \"companyName\": \"Another Test Company\",\n          \"apiRateLimitPolicy\": \"aa_api_tier10_tp\"\n        }\n      ]\n    },\n    ...\n  ]\n}\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Use the `}<inlineCode parentName=\"p\">{`globalCompanyId`}</inlineCode>{` value in your response (in the above example, it is shown as `}<inlineCode parentName=\"p\">{`testco0`}</inlineCode>{`) to test the `}<inlineCode parentName=\"p\">{`GET /users/me`}</inlineCode>{` endpoint. To do this, replace the `}<inlineCode parentName=\"p\">{`{COMPANY_ID}`}</inlineCode>{` parameters in the following request with their corresponding values.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-sh\"\n          }}>{`curl -X GET \"https://analytics.adobe.io/api/{GLOBAL_COMPANY_ID}/users/me\" \\\\\n    -H \"x-api-key: {CLIENTID}\" \\\\\n    -H \"Authorization: Bearer {ACCESSTOKEN}\"\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Replace `}<inlineCode parentName=\"p\">{`{ACCESSTOKEN}`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`{CLIENTID}`}</inlineCode>{` in the above request with their respective values.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Run the cURL command. The response includes information about the analytics user.`}</p>\n      </li>\n    </ol>\n    <p>{`Use your `}<inlineCode parentName=\"p\">{`access token`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`global company id`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`client ID`}</inlineCode>{` to make calls to the APIs. You can use the `}<a parentName=\"p\" {...{\n        \"href\": \"../../apis/index.md\"\n      }}>{`API reference`}</a>{` as an easy way to explore calling the Analytics APIs.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"sourceRoot":""}