(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[750],{6167:function(e,n,a){"use strict";a.r(n),a.d(n,{_frontmatter:function(){return m},default:function(){return p}});var t=a(2122),i=a(9756),r=(a(5007),a(4983)),l=a(9536),s=["components"],m={},d={_frontmatter:m},o=l.Z;function p(e){var n=e.components,a=(0,i.Z)(e,s);return(0,r.mdx)(o,(0,t.Z)({},d,a,{components:n,mdxType:"MDXLayout"}),(0,r.mdx)("h1",{id:"analytics-api-reports-user-guide"},"Analytics API Reports User Guide"),(0,r.mdx)("p",null,"The ",(0,r.mdx)("inlineCode",{parentName:"p"},"/reports")," endpoint is the primary endpoint for reporting requests. In order to provide maximum flexibility, many configuration options are available for requests."),(0,r.mdx)("h2",{id:"reports-overview"},"Reports Overview"),(0,r.mdx)("p",null,"While the Adobe Analytics UI can help an analyst or digital marketer answer key questions, the Analytics API can automate those answers by reporting to executive dashboards, custom reporting platforms, or tight Experience Cloud integrations. Because the ",(0,r.mdx)("inlineCode",{parentName:"p"},"/reports")," endpoint uses the same API as the Analytics UI, you can configure it for many options."),(0,r.mdx)("h2",{id:"authentication-and-authorization"},"Authentication and Authorization"),(0,r.mdx)("p",null,"Before you can use Analytics APIs, you need to obtain authentication and receive authorization. For more information, see the ",(0,r.mdx)("a",{parentName:"p",href:"README.md"},"Getting Started guide"),"."),(0,r.mdx)("h2",{id:"reports-endpoint-description"},(0,r.mdx)("inlineCode",{parentName:"h2"},"/reports")," Endpoint Description"),(0,r.mdx)("p",null,"The ",(0,r.mdx)("inlineCode",{parentName:"p"},"/reports")," endpoint description is shown in our ",(0,r.mdx)("a",{parentName:"p",href:"https://adobedocs.github.io/analytics-2.0-apis/"},"Swagger UI"),". Use the Swagger UI to see endpoint summaries, available methods, parameters, example values, models, and status codes, and to try out the API."),(0,r.mdx)("h2",{id:"partial-responses-206-status-code"},"Partial Responses (206 Status Code)"),(0,r.mdx)("p",null,"A 206 status code indicates a partial response.  This means there were some columns in the reporting response that have errors.  These errors may be any of the following:"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},"Unauthorized Metric: User does not have access to the requested metric"),(0,r.mdx)("li",{parentName:"ul"},"Metric Not Enabled: The requested metric is not enabled in this report suite"),(0,r.mdx)("li",{parentName:"ul"},"Unauthorized Dimension: User does not have access to the requested dimension"),(0,r.mdx)("li",{parentName:"ul"},"Dimension Not Enabled: The requested dimension is not enabled in this report suite"),(0,r.mdx)("li",{parentName:"ul"},"Unauthorized Global Dimension: User does not have access to the global dimension for this request"),(0,r.mdx)("li",{parentName:"ul"},"Global Dimension Not Enabled: The global dimension for this request is not enabled in this report suite"),(0,r.mdx)("li",{parentName:"ul"},"Unexpected Number of Items: Anomaly Detection algorithm returned an unexpected number of anomalies"),(0,r.mdx)("li",{parentName:"ul"},"General Service Error: General Anomaly Detection service error")),(0,r.mdx)("h2",{id:"best-practices"},"Best Practices"),(0,r.mdx)("p",null,"Please follow these guidelines when using Analytics APIs:"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},"Make multiple, smaller requests instead of a large, single request."),(0,r.mdx)("li",{parentName:"ul"},"Request data once and cache it."),(0,r.mdx)("li",{parentName:"ul"},"Do not poll for new data faster than a 30 minute interval."),(0,r.mdx)("li",{parentName:"ul"},"Pull historical data and increment it regularly instead of requesting the entire data set.")),(0,r.mdx)("p",null,"Discouraged Practices:"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},"Requesting as much data as possible in a single request"),(0,r.mdx)("li",{parentName:"ul"},"Requesting one year of data at day granularity everyday - just request the new day and merge it"),(0,r.mdx)("li",{parentName:"ul"},"Driving a web page with a site performance widget by making an API request every time the web page is loaded"),(0,r.mdx)("li",{parentName:"ul"},"Requesting a full year of day-level data every day to get a rolling 12-month window")),(0,r.mdx)("h2",{id:"example-time-series-report"},"Example Time Series Report"),(0,r.mdx)("p",null,"The Reports API includes ",(0,r.mdx)("strong",{parentName:"p"},"Time Series")," reports. These simple reports include information about the performance of a metric (or metrics) over a period of time."),(0,r.mdx)("h3",{id:"example-request"},"Example Request"),(0,r.mdx)("p",null,"The following request example includes both a JSON message request body and a ",(0,r.mdx)("inlineCode",{parentName:"p"},"curl")," request for the ",(0,r.mdx)("strong",{parentName:"p"},"Page Views")," metric."),(0,r.mdx)("h4",{id:"json-request-message"},"JSON Request Message"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:'language-json={line-numbers="yes"}'},'{\n   "rsid":"adbedocrsid",\n   "globalFilters":[\n      {\n            "type":"dateRange",\n            "dateRange":"2017-12-31T00:00:00.000/2018-01-06T23:59:59.999"\n      }\n   ],\n   "metricContainer":{\n      "metrics":[\n         {\n            "columnId":"0",\n            "id":"metrics/pageviews",\n            "filters":[\n               "0"\n            ]\n         }\n      ],\n      "metricFilters":[\n         {\n            "id":"0",\n            "type":"dateRange",\n            "dateRange":"2017-12-31T00:00:00.000/2018-01-06T23:59:59.999"\n         }\n      ]\n   },\n   "dimension":"variables/daterangeday",\n   "settings":{\n      "dimensionSort":"asc"\n   }\n}\n')),(0,r.mdx)("p",null,"The JSON message requests the following:"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("p",{parentName:"li"},(0,r.mdx)("strong",{parentName:"p"},"Page Views")," metric for the report suite ",(0,r.mdx)("inlineCode",{parentName:"p"},"adbedocrsid")," (lines 12 and 2)")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("p",{parentName:"li"},"Time period From Dec. 31, 2017 00:00:00.000 - Jan. 06, 2018 23:59:59.999, using the report suite timezone (line 22)")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("p",{parentName:"li"},(0,r.mdx)("inlineCode",{parentName:"p"},"variables/daterangeday")," granularity (line 26). With seven days specified in this time period, you can expect seven numbers in the response.")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("p",{parentName:"li"},"Sort response by ascending date, i.e. oldest to newest (line 28)"))),(0,r.mdx)("h4",{id:"curl-request"},(0,r.mdx)("inlineCode",{parentName:"h4"},"curl")," Request"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-bash"},"curl -X POST \\\n  https://analytics.adobe.io/api/{COMPANYID}/reports \\\n  -H 'Accept: application/json' \\\n  -H 'Authorization: Bearer {ACCESSTOKEN}' \\\n  -H 'Content-Type: application/json' \\\n  -H 'x-api-key: {APIKEY}' \\\n  -H 'x-proxy-global-company-id: {COMPANYID}' \\\n  -d '{REQUESTJSON}'\n")),(0,r.mdx)("h3",{id:"example-response"},"Example Response"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:'language-json={line-numbers="yes"}'},'{\n   "totalPages":1,\n   "firstPage":true,\n   "lastPage":false,\n   "numberOfElements":7,\n   "number":0,\n   "totalElements":7,\n   "columns":{\n      "dimension":{\n         "id":"variables/daterangeday",\n         "type":"time"\n      },\n      "columnIds":[\n         "0"\n      ]\n   },\n   "rows":[\n      {\n         "itemId":"1171131",\n         "value":"Dec 31, 2017",\n         "data":[\n            794.0\n         ]\n      },\n      {\n         "itemId":"1180001",\n         "value":"Jan 1, 2018",\n         "data":[\n            16558.0\n         ]\n      },\n      {\n         "itemId":"1180002",\n         "value":"Jan 2, 2018",\n         "data":[\n            17381.0\n         ]\n      },\n      {\n         "itemId":"1180003",\n         "value":"Jan 3, 2018",\n         "data":[\n            17384.0\n         ]\n      },\n      {\n         "itemId":"1180004",\n         "value":"Jan 4, 2018",\n         "data":[\n            17442.0\n         ]\n      },\n      {\n         "itemId":"1180005",\n         "value":"Jan 5, 2018",\n         "data":[\n            17417.0\n         ]\n      },\n      {\n         "itemId":"1180006",\n         "value":"Jan 6, 2018",\n         "data":[\n            17334.0\n         ]\n      }\n   ],\n   "summaryData":{\n      "totals":[\n         104310.0\n      ]\n   }\n}\n')),(0,r.mdx)("p",null,"The JSON response includes the following information:"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("p",{parentName:"li"},"The ",(0,r.mdx)("inlineCode",{parentName:"p"},"rows")," section contains each report record. In the above example, you can see seven rows, each with a ",(0,r.mdx)("inlineCode",{parentName:"p"},"value")," and ",(0,r.mdx)("inlineCode",{parentName:"p"},"data")," array (lines 19-66).")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("p",{parentName:"li"},"The ",(0,r.mdx)("inlineCode",{parentName:"p"},"value")," property contains the dimension value. Because the request includes a total of page views by day, the value of each row will contain a date identifier for the day (e.g. line 25). For time series data, this identifier changes based on the granularity. For example, if you request ",(0,r.mdx)("inlineCode",{parentName:"p"},"variables/daterangemonth")," instead, each value will contain a month/year identifier.")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("p",{parentName:"li"},"The ",(0,r.mdx)("inlineCode",{parentName:"p"},"data")," property contains a list of metric counts for each metric requested. Since only one metric is requested, only a single total appears in each row (e.g. lines 26-28).")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("p",{parentName:"li"},"The ",(0,r.mdx)("inlineCode",{parentName:"p"},"summaryData")," section contains a total of the metrics in the current report (lines 72-74)."))),(0,r.mdx)("p",null,(0,r.mdx)("em",{parentName:"p"},"You can also easily modify this example to get metrics for visits. Simply change the ",(0,r.mdx)("inlineCode",{parentName:"em"},"id")," property in the ",(0,r.mdx)("inlineCode",{parentName:"em"},"metrics")," section to ",(0,r.mdx)("inlineCode",{parentName:"em"},"metrics/visits")," (line 15).")),(0,r.mdx)("h2",{id:"paginating-reports"},"Paginating Reports"),(0,r.mdx)("p",null,"To paginate results, add a ",(0,r.mdx)("inlineCode",{parentName:"p"},"limit")," and ",(0,r.mdx)("inlineCode",{parentName:"p"},"page")," parameter to the ",(0,r.mdx)("inlineCode",{parentName:"p"},"settings")," object (lines 29-30 below):"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:'language-json={line-numbers="yes"}'},'{\n   "rsid":"adbedocrsid",\n   "globalFilters":[\n      {\n         "type":"dateRange",\n         "dateRange":"2017-12-31T00:00:00.000/2018-01-31T23:59:59.999"\n      }\n   ],\n   "metricContainer":{\n      "metrics":[\n         {\n            "columnId":"0",\n            "id":"metrics/pageviews",\n            "filters":[\n               "0"\n            ]\n         }\n      ],\n      "metricFilters":[\n         {\n            "id":"0",\n            "type":"dateRange",\n            "dateRange":"2017-12-31T00:00:00.000/2018-01-31T23:59:59.999"\n         }\n      ]\n   },\n   "dimension":"variables/daterangeday",\n   "settings":{\n      "dimensionSort":"asc",\n      "limit":"10",\n      "page":"2"\n   }\n}\n')),(0,r.mdx)("h2",{id:"example-anomaly-detection-report"},"Example Anomaly Detection Report"),(0,r.mdx)("p",null," The Reports API can also identify anomalies in a metric over a given time period. This can be helpful in setting up automated alert tools or dashboards to report the same information as the UI. When using this feature, anomalies are reported for values outside the upper or lower bound of the confidence bands. The building model and confidence bands are pre-defined in Analytics by calculated historical norms. Although this ability is also available with the Anayltics 1.4 APIs, the Analytics 2.0 APIs now include hour-based granularity."),(0,r.mdx)("h3",{id:"example-request-1"},"Example Request"),(0,r.mdx)("p",null,"The following request includes an additional parameter to the ",(0,r.mdx)("inlineCode",{parentName:"p"},"settings")," object to turn on anomaly detection (line 29)."),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:'language-json={line-numbers="yes"}'},'{\n   "rsid":"adbedocrsid",\n   "globalFilters":[\n      {\n         "type":"dateRange",\n         "dateRange":"2017-12-31T00:00:00.000/2018-01-06T23:59:59.999"\n      }\n   ],\n   "metricContainer":{\n      "metrics":[\n         {\n            "columnId":"0",\n            "id":"metrics/pageviews",\n            "filters":[\n               "0"\n            ]\n         }\n      ],\n      "metricFilters":[\n         {\n            "id":"0",\n            "type":"dateRange",\n            "dateRange":"2017-12-31T00:00:00.000/2018-01-06T23:59:59.999"\n         }\n      ]\n   },\n   "dimension":"variables/daterangeday",\n   "settings":{\n      "dimensionSort":"asc",\n      "includeAnomalyDetection":true\n   }\n}\n')),(0,r.mdx)("h3",{id:"example-response-1"},"Example Response"),(0,r.mdx)("p",null,"This example response shows an anomaly condition and identifies the following five properties with their corresponding values:"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"data")," - The actual detected value for the metric (lines 21 and 40)"),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"dataExpected")," - The calculated expected value for the metric (lines 23 and 42)"),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"dataUpperBound")," - The upper limit of the confidence band (lines 26 and 45)"),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"dataLowerBound")," - The lower limit of the confidence band (lines 29 and 48)"),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"dataAnomalyDetected")," - An indicator of whether the metric value is outside of the confidence bands, i.e. ",(0,r.mdx)("inlineCode",{parentName:"li"},"True")," if detected (lines 33-34 and 52-53).")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:'language-json={line-numbers="yes"}'},'{\n   "totalPages":1,\n   "firstPage":true,\n   "lastPage":false,\n   "numberOfElements":7,\n   "number":0,\n   "totalElements":7,\n   "columns":{\n      "dimension":{\n         "id":"variables/daterangeday",\n         "type":"time"\n      },\n      "columnIds":[\n         "0"\n      ]\n   },\n   "rows":[\n      {\n         "itemId":"1171131",\n         "value":"Dec 31, 2017",\n         "data":[\n            794.0\n         ],\n         "dataExpected":[\n            17395.648628666\n         ],\n         "dataUpperBound":[\n            17462.569820465\n         ],\n         "dataLowerBound":[\n            17328.727436868\n         ],\n         "dataAnomalyDetected":[\n            true\n         ]\n      },\n\n      ...SNIP...\n   ],\n   "summaryData":{\n      "totals":[\n         104310.0\n      ]\n   }\n}\n')),(0,r.mdx)("h2",{id:"ranked-report-example"},"Ranked Report Example"),(0,r.mdx)("p",null,"In Analytics, simple time series reports have metrics. If you add a dimension, you can request ",(0,r.mdx)("strong",{parentName:"p"},"Ranked")," reports. For example, some of the previous examples above include a date for the dimension so they can be considered ",(0,r.mdx)("strong",{parentName:"p"},"Ranked")," reports. If you also include a time range with a metric and a dimension, you can request ",(0,r.mdx)("strong",{parentName:"p"},"Trended")," reports.  For more information on report types in Analytics, see ",(0,r.mdx)("a",{parentName:"p",href:"https://docs.adobe.com/content/help/en/analytics/analyze/reports-analytics/reports.html"},"Adobe Report Types help"),". In the following examples, a Custom Insight Conversion Variable (evar1) is used as the dimension for the report."),(0,r.mdx)("h3",{id:"example-request-2"},"Example Request"),(0,r.mdx)("p",null,"In the following request, ",(0,r.mdx)("inlineCode",{parentName:"p"},"evar1")," is simply storing a numeric ID for a campaign (see line 26)."),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-json"},'{\n   "rsid":"adbedocrsid",\n   "globalFilters":[\n      {\n         "type":"dateRange",\n         "dateRange":"2017-12-31T00:00:00.000/2018-01-06T23:59:59.999"\n      }\n   ],\n   "metricContainer":{\n      "metrics":[\n         {\n            "columnId":"0",\n            "id":"metrics/pageviews",\n            "filters":[\n               "0"\n            ]\n         }\n      ],\n      "metricFilters":[\n         {\n            "id":"0",\n            "type":"dateRange",\n            "dateRange":"2017-12-31T00:00:00.000/2018-01-06T23:59:59.999"\n         }\n      ]\n   },\n   "dimension":"variables/evar1",\n   "settings":{\n      "dimensionSort":"asc",\n      "limit":5\n   }\n}\n')),(0,r.mdx)("h3",{id:"example-response-2"},"Example Response"),(0,r.mdx)("p",null,"In the following response, each record returns:"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"itemId"),' - This is the unique ID associated with this particular value - in this case, campaign "10".'),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"value")," - This contains the value of the evar."),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"data")," - This is an array of counts - one for each metric requested.")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-json"},'{\n   "totalPages":8,\n   "firstPage":true,\n   "lastPage":false,\n   "numberOfElements":5,\n   "number":0,\n   "totalElements":40,\n   "columns":{\n      "dimension":{\n         "id":"variables/evar1",\n         "type":"string"\n      },\n      "columnIds":[\n         "0"\n      ]\n   },\n   "rows":[\n      {\n         "itemId":"0",\n         "value":"Unspecified",\n         "data":[\n            11560.0\n         ]\n      },\n      {\n         "itemId":"219343969",\n         "value":"15",\n         "data":[\n            524.0\n         ]\n      },\n      {\n         "itemId":"349230650",\n         "value":"7",\n         "data":[\n            4420.0\n         ]\n      },\n      {\n         "itemId":"511036305",\n         "value":"11",\n         "data":[\n            1631.0\n         ]\n      },\n      {\n         "itemId":"743855946",\n         "value":"10",\n         "data":[\n            2032.0\n         ]\n      }\n   ],\n   "summaryData":{\n      "totals":[\n         104310.0\n      ]\n   }\n}\n')),(0,r.mdx)("h2",{id:"media-concurrent-viewers-report-example"},"Media Concurrent Viewers Report Example"),(0,r.mdx)("p",null,"Media concurrent viewers report is a time series report with two specialized metrics. "),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"metrics/concurrent_viewers_visitors")," It counts number of unique visitors."),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"metrics/concurrent_viewers_occurrences")," It counts number of active sessions.")),(0,r.mdx)("p",null,"These metrics can be rolled up to different granularity based on the dimension. For example unique visitors per minute or unique visitors per day etc.\nThese are different dimensions available for media concurrent viewers report."),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"variables/daterangeminute")," "),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"variables/daterangehour")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"variables/daterangeday")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"variables/daterangeweek")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"variables/daterangemonth")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"variables/daterangequarter")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"variables/daterangeyear"))),(0,r.mdx)("p",null,"Media concurrent viewers report can be used in conjunction with filtering capabilities explained in ",(0,r.mdx)("a",{parentName:"p",href:"reporting-guide.md#filtering-reports"},"Filtering Reports")," section."),(0,r.mdx)("h3",{id:"example-request-3"},"Example Request"),(0,r.mdx)("p",null,"The following request example includes both a JSON message request body to request number of unique visitors."),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-json"},'{\n    "rsid": "adbedocrsid",\n    "locale": "en_US",\n    "dimension": "variables/daterangeminute",\n    "globalFilters": [\n        {\n            "dateRange": "2019-08-01T00:00/2019-08-01T00:05",\n            "type": "dateRange"\n        }\n    ],\n    "metricContainer": {\n        "metrics": [\n            {\n                "columnId": "column1",\n                "id": "metrics/concurrent_viewers_visitors"\n            }\n        ]\n    },\n    "settings": {\n        "dimensionSort": "asc",\n        "limit": "100",\n        "page": 0\n  } \n}\n')),(0,r.mdx)("p",null,"The JSON message requests the following:"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("p",{parentName:"li"},(0,r.mdx)("strong",{parentName:"p"},"Number of unique visitors")," metric ",(0,r.mdx)("inlineCode",{parentName:"p"},"metrics/concurrent_viewers_visitors")," (line 15) for the report suite ",(0,r.mdx)("inlineCode",{parentName:"p"},"adbedocrsid")," (line 2)")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("p",{parentName:"li"},"Time period From Aug. 01, 2019 00:00:00.000 - Aug. 01, 2018 01:00:00.000, using the report suite timezone (line 7)")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("p",{parentName:"li"},(0,r.mdx)("inlineCode",{parentName:"p"},"variables/daterangeminute")," granularity (line 4). With five minutes specified in this time period, you can expect five rows in the response.")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("p",{parentName:"li"},"Sort response by ascending date, i.e. oldest to newest (line 20)"))),(0,r.mdx)("h3",{id:"example-response-3"},"Example Response"),(0,r.mdx)("p",null,"In the following response, each record returns:"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"itemId")," - This is the unique ID associated with this particular value - in this case, unique visitors on Aug. 01, 2019 00:01 AM (line 27)."),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"value")," - This contains the value of the dimension Aug. 01, 2019 00:01 AM."),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"data")," - This is an array of counts - one for each metric requested - in this case number of unique visitors.")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-json"},'{\n    "totalPages": 1,\n    "firstPage": true,\n    "lastPage": true,\n    "numberOfElements": 5,\n    "number": 0,\n    "totalElements": 5,\n    "columns": {\n        "dimension": {\n            "id": "variables/daterangeminute",\n            "type": "time"\n        },\n        "columnIds": [\n            "column1"\n        ]\n    },\n    "rows": [\n        {\n            "itemId": "11907010000",\n            "value": "00:00 2019-08-01",\n            "data": [\n                326.0\n            ]\n        },\n        {\n            "itemId": "11907010001",\n            "value": "00:01 2019-08-01",\n            "data": [\n                258.0\n            ]\n        },\n        {\n            "itemId": "11907010002",\n            "value": "00:02 2019-08-01",\n            "data": [\n                202.0\n            ]\n        },\n        {\n            "itemId": "11907010003",\n            "value": "00:03 2019-08-01",\n            "data": [\n                148.0\n            ]\n        },\n        {\n            "itemId": "11907010004",\n            "value": "00:04 2019-08-01",\n            "data": [\n                79.0\n            ]\n        }\n    ],\n    "summaryData": {\n        "filteredTotals": [\n            1285.0\n        ],\n        "totals": [\n            22346.0\n        ]\n    }\n}\n')),(0,r.mdx)("h2",{id:"filtering-reports"},"Filtering Reports"),(0,r.mdx)("p",null,"Use filters to limit the data returned so that reports show only the values you need.  For example, if you have thousands of records but only a few have needed reports, you can use filtering to return and find them quickly. Some filters also allow you to include, group, or present data in convenient formats, such as breakdown reports."),(0,r.mdx)("p",null,"This section includes information on the following filtering features:"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("p",{parentName:"li"},"Search parameter")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("p",{parentName:"li"},"Clause parameter")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("p",{parentName:"li"},"Applying Segments")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("p",{parentName:"li"},"Breakdown Reports"))),(0,r.mdx)("h3",{id:"using-search-parameters"},"Using ",(0,r.mdx)("inlineCode",{parentName:"h3"},"search")," Parameters"),(0,r.mdx)("p",null,"By using the ",(0,r.mdx)("inlineCode",{parentName:"p"},"search")," parameter, you can add even more granular parameters to filter your results more narrowly. The ",(0,r.mdx)("inlineCode",{parentName:"p"},"search")," parameter includes the following options:"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"itemId")," - A single ID to include in the report"),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"itemIds")," - A list of itemIds to include in the report (shown in the example)"),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"excludeItemIds")," - A list of itemIds to exclude in the report"),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"clause")," - A search clause to use when filtering dimensions"),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"includeSearchTotal")," - Includes a special element called 'searchTotals' in the response that contains the total of the filtered items. The default is ",(0,r.mdx)("inlineCode",{parentName:"li"},"false"),".")),(0,r.mdx)("h4",{id:"example-search-request"},"Example ",(0,r.mdx)("inlineCode",{parentName:"h4"},"search")," Request"),(0,r.mdx)("p",null,'The following example requests data only for campaigns "10" and "11" with the ',(0,r.mdx)("inlineCode",{parentName:"p"},"search")," parameter by using their itemIds (line 9)."),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:'language-json={line-numbers="yes"}'},'{\n   "rsid":"adbedocrsid",\n   "globalFilters":[\n      {\n         "type":"dateRange",\n         "dateRange":"2017-12-31T00:00:00.000/2018-01-06T23:59:59.999"\n      }\n   ],\n   "search":{\n      "itemIds":[743855946,511036305]\n   },\n   "metricContainer":{\n      "metrics":[\n         {\n            "columnId":"0",\n            "id":"metrics/pageviews",\n            "filters":[\n               "0"\n            ]\n         }\n      ],\n      "metricFilters":[\n         {\n            "id":"0",\n            "type":"dateRange",\n            "dateRange":"2017-12-31T00:00:00.000/2018-01-06T23:59:59.999"\n         }\n      ]\n   },\n   "dimension":"variables/evar1",\n   "settings":{\n      "dimensionSort":"asc",\n      "limit":5\n   }\n}\n')),(0,r.mdx)("h4",{id:"example-response-4"},"Example Response"),(0,r.mdx)("p",null,"The following response returns the data requested for the ",(0,r.mdx)("inlineCode",{parentName:"p"},"itemId")," associated with campaigns 10 and 11 (lines 18-21 and 25-28)."),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:'language-json={line-numbers="yes"}'},'{\n   "totalPages":1,\n   "firstPage":true,\n   "lastPage":true,\n   "numberOfElements":2,\n   "number":0,\n   "totalElements":2,\n   "columns":{\n      "dimension":{\n         "id":"variables/evar1",\n         "type":"string"\n      },\n      "columnIds":[\n         "0"\n      ]\n   },\n   "rows":[\n      {\n         "itemId":"511036305",\n         "value":"11",\n         "data":[\n            1631.0\n         ]\n      },\n      {\n         "itemId":"743855946",\n         "value":"10",\n         "data":[\n            2032.0\n         ]\n      }\n   ],\n   "summaryData":{\n      "totals":[\n         104310.0\n      ]\n   }\n}\n')),(0,r.mdx)("h3",{id:"using-clause-parameters"},"Using ",(0,r.mdx)("inlineCode",{parentName:"h3"},"clause")," Parameters"),(0,r.mdx)("p",null,"As noted above, the ",(0,r.mdx)("inlineCode",{parentName:"p"},"search")," parameter also includes the ",(0,r.mdx)("inlineCode",{parentName:"p"},"clause")," option. The ",(0,r.mdx)("inlineCode",{parentName:"p"},"clause")," parameter provides a powerful tool for filtering data. To use it, follow these rules:"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},"It uses boolean operators ",(0,r.mdx)("inlineCode",{parentName:"li"},"AND"),", ",(0,r.mdx)("inlineCode",{parentName:"li"},"OR"),", and ",(0,r.mdx)("inlineCode",{parentName:"li"},"NOT"),"."),(0,r.mdx)("li",{parentName:"ul"},"It uses operators ",(0,r.mdx)("inlineCode",{parentName:"li"},"MATCH"),", ",(0,r.mdx)("inlineCode",{parentName:"li"},"CONTAINS"),", ",(0,r.mdx)("inlineCode",{parentName:"li"},"BEGINS-WITH"),", and ",(0,r.mdx)("inlineCode",{parentName:"li"},"ENDS-WITH"),"."),(0,r.mdx)("li",{parentName:"ul"},"It uses group conditions with parenthesis."),(0,r.mdx)("li",{parentName:"ul"},"Strings are contained in single quotes."),(0,r.mdx)("li",{parentName:"ul"},"Searches are case-insensitive."),(0,r.mdx)("li",{parentName:"ul"},"If no operator is specified, a 'contains' match is performed."),(0,r.mdx)("li",{parentName:"ul"},"Valid operators are 'match' and 'contains'."),(0,r.mdx)("li",{parentName:"ul"},"Glob expressions are evaluated. If a literal ",(0,r.mdx)("inlineCode",{parentName:"li"},"*")," is needed, use ",(0,r.mdx)("inlineCode",{parentName:"li"},"\\*"),".")),(0,r.mdx)("h4",{id:"example-clause-statements"},"Example Clause Statements"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},"Only include results that match the string 'home page': ",(0,r.mdx)("inlineCode",{parentName:"li"},"MATCH 'home page'")),(0,r.mdx)("li",{parentName:"ul"},"Include pages that do not contain 'home page': ",(0,r.mdx)("inlineCode",{parentName:"li"},"NOT CONTAINS 'home page'")),(0,r.mdx)("li",{parentName:"ul"},"Include pages that do not contain 'home page' or 'about us', but do contain 'contact us': ",(0,r.mdx)("inlineCode",{parentName:"li"},"(NOT CONTAINS 'home page' OR NOT CONTAINS 'about us') AND (CONTAINS 'contact us')")),(0,r.mdx)("li",{parentName:"ul"},"Include pages that contain 'home page' or start with 'landing': ",(0,r.mdx)("inlineCode",{parentName:"li"},"CONTAINS 'home page' OR BEGINS-WITH 'landing'"))),(0,r.mdx)("h3",{id:"applying-segments"},"Applying Segments"),(0,r.mdx)("p",null,"You can include a segment in your report by adding it to the ",(0,r.mdx)("inlineCode",{parentName:"p"},"globalFilters")," property."),(0,r.mdx)("h4",{id:"example-request-4"},"Example Request"),(0,r.mdx)("p",null,"The following example shows a segment requested as part of the ",(0,r.mdx)("inlineCode",{parentName:"p"},"globalFilters")," property:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-json"},'   ...\n   "globalFilters":[\n      {\n         "type":"dateRange",\n         "dateRange":"2014-06-01T00:00/2014-06-21T00:00"\n      },\n      {\n         "type":"segment",\n         "segmentId":"53adb46be4b0a2a175bf38c4"\n      }\n   ],\n   ...\n')),(0,r.mdx)("h2",{id:"breakdown-reports"},"Breakdown Reports"),(0,r.mdx)("p",null,"Breakdowns in the API are useful when you want to see the cross-product of values from two different dimensions. When requesting a breakdown report, use the ",(0,r.mdx)("inlineCode",{parentName:"p"},"metricsFilters")," and ",(0,r.mdx)("inlineCode",{parentName:"p"},"dimension")," parameters to request the additional dimension."),(0,r.mdx)("h3",{id:"example-request-5"},"Example Request"),(0,r.mdx)("p",null,'The following example requests a breakdown report containing a list of the top five "Internal Search Terms" used by visitors who saw campaign 10. Within the ',(0,r.mdx)("inlineCode",{parentName:"p"},"metricsFilters")," parameter, the type is set to ",(0,r.mdx)("inlineCode",{parentName:"p"},"breakdown")," (line 21), and ",(0,r.mdx)("inlineCode",{parentName:"p"},"evar1")," is the marketing campaign (line 22). Within the ",(0,r.mdx)("inlineCode",{parentName:"p"},"dimensions")," parameter, ",(0,r.mdx)("inlineCode",{parentName:"p"},"evar2"),' is the "Internal Search Terms" (line 27).'),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Note:")," If the text value of item is already known, it can be passed inside the ",(0,r.mdx)("inlineCode",{parentName:"p"},"metricFilter")," object as ",(0,r.mdx)("inlineCode",{parentName:"p"},"itemValue")," field (Make sure to pass the exact text value).\nFor example, instead of passing the item id ",(0,r.mdx)("inlineCode",{parentName:"p"},'"itemId":"743855946"'),' of the item "Campaign 10", we can pass the text value of the item like this ',(0,r.mdx)("inlineCode",{parentName:"p"},'"itemValue" : "10"'),"\nPassing an item value instead of item id will result in slightly slower performance, but it will be useful in preventing multiple reporting calls to retrieve item ids."),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:'language-json={line-numbers="yes"}'},'{\n   "rsid":"adbedocrsid",\n   "globalFilters":[\n      {\n         "type":"dateRange",\n         "dateRange":"2017-12-31T00:00:00.000/2018-01-06T23:59:59.999"\n      }\n   ],\n   "metricContainer":{\n      "metrics":[\n         {\n            "columnId":"0",\n            "id":"metrics/pageviews",\n            "filters":[\n               "0"\n            ]\n         }\n      ],\n      "metricFilters":[\n         {\n            "id":"0",\n            "type":"breakdown",\n            "dimension":"evar1",\n            "itemId":"743855946"\n         }\n      ]\n   },\n   "dimension":"variables/evar2",\n   "settings":{\n      "dimensionSort":"asc",\n      "limit":5\n   }\n}\n')),(0,r.mdx)("h3",{id:"example-response-5"},"Example Response"),(0,r.mdx)("p",null,'The following example shows that the top search terms for Campaign 10 are "red t-shirt", "digital watches", "sport socks", "gps watch", and "running shoes."'),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-json"},'{\n      "totalPages":2,\n      "firstPage":true,\n      "lastPage":false,\n      "numberOfElements":5,\n      "number":0,\n      "totalElements":7,\n      "columns":{\n         "dimension":{\n            "id":"variables/evar2",\n            "type":"string"\n         },\n         "columnIds":[\n            "0"\n         ]\n      },\n      "rows":[\n         {\n            "itemId":"1132341824",\n            "value":"red t-shirt",\n            "data":[\n               1515.0\n            ]\n         },\n         {\n            "itemId":"2400044733",\n            "value":"digital watches",\n            "data":[\n               1.0\n            ]\n         },\n         {\n            "itemId":"3351316813",\n            "value":"sport socks",\n            "data":[\n               11.0\n            ]\n         },\n         {\n            "itemId":"3440395251",\n            "value":"gps watch",\n            "data":[\n               95.0\n            ]\n         },\n         {\n            "itemId":"3614317595",\n            "value":"running shoes",\n            "data":[\n               16.0\n            ]\n         }\n      ],\n      "summaryData":{\n         "totals":[\n            2032.0\n         ]\n      }\n   }\n')),(0,r.mdx)("h3",{id:"multi-level-breakdown-example"},"Multi-level Breakdown Example"),(0,r.mdx)("p",null,"For a more in-depth example of breakdowns see the following guide: ",(0,r.mdx)("a",{parentName:"p",href:"reporting-multiple-breakdowns.md"},"Reporting with Multiple Breakdowns")),(0,r.mdx)("h2",{id:"topitem-reports"},"TopItem Reports"),(0,r.mdx)("p",null,"TopItems in the API are useful when you want to see the top X items for the specified dimension and RSID."),(0,r.mdx)("h3",{id:"example-response-6"},"Example Response"),(0,r.mdx)("p",null,'The following example shows the top items report response for the dimension "variables/page"'),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "totalPages": 13,\n  "firstPage": true,\n  "lastPage": false,\n  "numberOfElements": 10,\n  "number": 0,\n  "totalElements": 124,\n  "reportId": "topItems",\n  "rows": [\n    {\n      "itemId": "4171620885",\n      "value": "Other"\n    },\n    {\n      "itemId": "631347493",\n      "value": "Shopping Cart|Cart Details"\n    },\n    {\n      "itemId": "2804340665",\n      "value": "Home"\n    },\n    {\n      "itemId": "2981341139",\n      "value": "Search Results"\n    },\n    {\n      "itemId": "2700590175",\n      "value": "Store Locator|Search"\n    },\n    {\n      "itemId": "3783105718",\n      "value": "Shopping Cart|Shipping Information"\n    },\n    {\n      "itemId": "3916049137",\n      "value": "Equipment"\n    },\n    {\n      "itemId": "3189330925",\n      "value": "Shopping Cart|Billing Information"\n    },\n    {\n      "itemId": "3694966131",\n      "value": "Store Locator|Results"\n    },\n    {\n      "itemId": "925217727",\n      "value": "Product List"\n    }\n  ]\n}\n')))}p.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guides-reporting-api-index-md-6903ca1e99ddfb638b6a.js.map