(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[940],{5042:function(e,n,a){"use strict";a.r(n),a.d(n,{_frontmatter:function(){return s},default:function(){return r}});var t=a(2122),o=a(9756),m=(a(5007),a(4983)),i=a(9536),p=["components"],s={},l={_frontmatter:s},d=i.Z;function r(e){var n=e.components,a=(0,o.Z)(e,p);return(0,m.mdx)(d,(0,t.Z)({},l,a,{components:n,mdxType:"MDXLayout"}),(0,m.mdx)("h1",{id:"tags-apis"},"Tags APIs"),(0,m.mdx)("p",null,"The Analytics 2.0 Tags APIs allow you to retrieve, update, or create tags and their association with components programmatically through Adobe I/O. The APIs use the same data and methods that are used when working with tags in the UI."),(0,m.mdx)("h2",{id:"authorization-and-authentication"},"Authorization and authentication"),(0,m.mdx)("p",null,"To obtain authorization and authentication, see the ",(0,m.mdx)("a",{parentName:"p",href:"../getting-started/index.md"},"Getting Started Guide for 2.0 APIs"),"."),(0,m.mdx)("h2",{id:"componentmetadatatags-endpoint-description"},(0,m.mdx)("inlineCode",{parentName:"h2"},"/componentmetadata/tags")," endpoint description"),(0,m.mdx)("p",null,"The ",(0,m.mdx)("inlineCode",{parentName:"p"},"/componentmetadata/tags")," endpoint description is shown in our ",(0,m.mdx)("a",{parentName:"p",href:"https://adobedocs.github.io/analytics-2.0-apis/"},"Swagger UI"),". Use the Swagger UI to see endpoint summaries, available methods, parameters, example values, models, and status codes, and to try out the API."),(0,m.mdx)("h2",{id:"example-creating-tags"},"Example creating tags"),(0,m.mdx)("p",null,"The following request example includes both a JSON message request body and a ",(0,m.mdx)("inlineCode",{parentName:"p"},"curl")," request to create tags and associate them with existing components."),(0,m.mdx)("h3",{id:"json-request-message"},"JSON Request Message"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:'language-json={line-numbers="yes"}'},'[\n   {\n      "name":"sales",\n      "description":"Sales Department",\n      "components":[\n         {\n            "componentType":"project",\n            "componentId":"component-id-1"\n         },\n         {\n            "componentType":"segment",\n            "componentId":"component-id-2"\n         }\n      ]\n   },\n   {\n      "name":"marketing",\n      "description":"Marketing Department",\n      "components":[\n         {\n            "componentType":"project",\n            "componentId":"component-id-101"\n         },\n         {\n            "componentType":"segment",\n            "componentId":"component-id-102"\n         }\n      ]\n   }\n]\n')),(0,m.mdx)("p",null,"The JSON message requests the following:"),(0,m.mdx)("ul",null,(0,m.mdx)("li",{parentName:"ul"},"create two tags with description ",(0,m.mdx)("inlineCode",{parentName:"li"},"Sales Department")," and ",(0,m.mdx)("inlineCode",{parentName:"li"},"Marketing Department")),(0,m.mdx)("li",{parentName:"ul"},"associate ",(0,m.mdx)("inlineCode",{parentName:"li"},"Sales Department")," tag with components having ids ",(0,m.mdx)("inlineCode",{parentName:"li"},"component-id-1")," and ",(0,m.mdx)("inlineCode",{parentName:"li"},"component-id-2")),(0,m.mdx)("li",{parentName:"ul"},"associate ",(0,m.mdx)("inlineCode",{parentName:"li"},"Marketing Department")," tag with components having ids ",(0,m.mdx)("inlineCode",{parentName:"li"},"component-id-101")," and ",(0,m.mdx)("inlineCode",{parentName:"li"},"component-id-102"))),(0,m.mdx)("h4",{id:"curl-request"},(0,m.mdx)("inlineCode",{parentName:"h4"},"curl")," Request"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-bash"},"curl -X POST \\\n  https://analytics.adobe.io/api/{COMPANYID}/componentmetadata/tags \\\n  -H 'Accept: application/json' \\\n  -H 'Authorization: Bearer {ACCESSTOKEN}' \\\n  -H 'Content-Type: application/json' \\\n  -H 'x-api-key: {APIKEY}' \\\n  -H 'x-proxy-global-company-id: {COMPANYID}' \\\n  -d '{REQUESTJSON}'\n")),(0,m.mdx)("h3",{id:"example-response"},"Example Response"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-json"},'[\n   {\n      "id":35632,\n      "name":"sales",\n      "description":"Sales Department",\n      "components":[\n         {\n            "componentType":"project",\n            "componentId":"component-id-1"\n         },\n         {\n            "componentType":"segment",\n            "componentId":"component-id-2"\n         }\n      ],\n      "status":{\n         "success":true\n      }\n   },\n   {\n      "id":35633,\n      "name":"marketing",\n      "description":"Marketing Department",\n      "components":[\n         {\n            "componentType":"project",\n            "componentId":"component-id-101"\n         },\n         {\n            "componentType":"segment",\n            "componentId":"component-id-102"\n         }\n      ],\n      "status":{\n         "success":true\n      }\n   }\n]\n')),(0,m.mdx)("h2",{id:"example-deleting-a-tag"},"Example deleting a tag"),(0,m.mdx)("p",null,"The following request example includes a ",(0,m.mdx)("inlineCode",{parentName:"p"},"curl")," request to delete a tag. It will also un-tag any/all components associated with the tag."),(0,m.mdx)("h3",{id:"curl-request-1"},(0,m.mdx)("inlineCode",{parentName:"h3"},"curl")," Request"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-bash"},"curl -X DELETE \\\n  https://analytics.adobe.io/api/{COMPANYID}/componentmetadata/tags/{TAG_ID} \\\n  -H 'Accept: application/json' \\\n  -H 'Authorization: Bearer {ACCESSTOKEN}' \\\n  -H 'Content-Type: application/json' \\\n  -H 'x-api-key: {APIKEY}' \\\n  -H 'x-proxy-global-company-id: {COMPANYID}' \\\n  -d '{REQUESTJSON}'\n")),(0,m.mdx)("p",null,"The above curl command requests the following:"),(0,m.mdx)("ul",null,(0,m.mdx)("li",{parentName:"ul"},"Delete tag with id ",(0,m.mdx)("inlineCode",{parentName:"li"},"TAG_ID")," and its association with other components")),(0,m.mdx)("h3",{id:"example-response-1"},"Example Response"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "tagId": "TAG_ID",\n  "status": {\n    "success": true\n  }\n}\n')),(0,m.mdx)("h2",{id:"example-removing-all-tags-from-components"},"Example removing all tags from components"),(0,m.mdx)("p",null,"The following request example includes a ",(0,m.mdx)("inlineCode",{parentName:"p"},"curl")," request to removes all tags from list of components."),(0,m.mdx)("h3",{id:"curl-request-2"},(0,m.mdx)("inlineCode",{parentName:"h3"},"curl")," Request"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-bash"},"curl -X DELETE \\\n  https://analytics.adobe.io/api/{COMPANYID}/componentmetadata/tags?componentIds={COMMA_SEPARATED_COMPONENT_IDS}&componentType={COMPONENT_TYPE} \\\n  -H 'Accept: application/json' \\\n  -H 'Authorization: Bearer {ACCESSTOKEN}' \\\n  -H 'Content-Type: application/json' \\\n  -H 'x-api-key: {APIKEY}' \\\n  -H 'x-proxy-global-company-id: {COMPANYID}' \\\n  -d '{REQUESTJSON}'\n")),(0,m.mdx)("p",null,"The above curl command requests the following:"),(0,m.mdx)("ul",null,(0,m.mdx)("li",{parentName:"ul"},"Removes all tags from list of component ids")),(0,m.mdx)("h3",{id:"example-response-2"},"Example Response"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "{COMMA_SEPARATED_COMPONENT_IDS}",\n  "status": {\n    "success": true\n  }\n}\n')),(0,m.mdx)("h2",{id:"example-retrieving-list-of-tags-for-a-company"},"Example retrieving list of tags for a company"),(0,m.mdx)("p",null,"The following request example includes a ",(0,m.mdx)("inlineCode",{parentName:"p"},"curl")," request to retrieve tags for current company."),(0,m.mdx)("h3",{id:"curl-request-3"},(0,m.mdx)("inlineCode",{parentName:"h3"},"curl")," Request"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-bash"},"curl -X GET \\\n  https://analytics.adobe.io/api/{COMPANYID}/componentmetadata/tags?page=0&limit=3 \\\n  -H 'Accept: application/json' \\\n  -H 'Authorization: Bearer {ACCESSTOKEN}' \\\n  -H 'Content-Type: application/json' \\\n  -H 'x-api-key: {APIKEY}' \\\n  -H 'x-proxy-global-company-id: {COMPANYID}' \\\n  -d '{REQUESTJSON}'\n")),(0,m.mdx)("p",null,"The above curl command requests the following:"),(0,m.mdx)("ul",null,(0,m.mdx)("li",{parentName:"ul"},"Retrieve specific page with query param ",(0,m.mdx)("inlineCode",{parentName:"li"},"page")),(0,m.mdx)("li",{parentName:"ul"},"Retrieve specific number of tags in a page with query param ",(0,m.mdx)("inlineCode",{parentName:"li"},"limit"))),(0,m.mdx)("h3",{id:"example-response-3"},"Example Response"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "content": [\n    {\n      "id": 596,\n      "name": "sales"\n    },\n    {\n      "id": 597,\n      "name": "marketing"\n    },\n    {\n      "id": 662,\n      "name": "finance"\n    }\n  ],\n  "numberOfElements": 3,\n  "totalElements": 385,\n  "totalPages": 129,\n  "firstPage": true,\n  "lastPage": false,\n  "sort": null,\n  "size": 3,\n  "number": 0\n}\n')),(0,m.mdx)("h2",{id:"example-retrieve-tags-for-multiple-components"},"Example retrieve tags for multiple components"),(0,m.mdx)("p",null,"The following request example includes both a JSON message request body and a ",(0,m.mdx)("inlineCode",{parentName:"p"},"curl")," request to retrieve tags for multiple components."),(0,m.mdx)("h3",{id:"json-request-message-1"},"JSON Request Message"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:'language-json={line-numbers="yes"}'},'{\n  "componentType": "project",\n  "componentIds": [\n    "component-id-556"\n  ]\n}\n')),(0,m.mdx)("h3",{id:"curl-request-4"},(0,m.mdx)("inlineCode",{parentName:"h3"},"curl")," Request"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-bash"},"curl -X POST \\\n  https://analytics.adobe.io/api/{COMPANYID}/componentmetadata/tags/component/search?page=0&limit=3 \\\n  -H 'Accept: application/json' \\\n  -H 'Authorization: Bearer {ACCESSTOKEN}' \\\n  -H 'Content-Type: application/json' \\\n  -H 'x-api-key: {APIKEY}' \\\n  -H 'x-proxy-global-company-id: {COMPANYID}' \\\n  -d '{REQUESTJSON}'\n")),(0,m.mdx)("p",null,"The JSON message requests the following:"),(0,m.mdx)("ul",null,(0,m.mdx)("li",{parentName:"ul"},"Retrieves all tags for component id ",(0,m.mdx)("inlineCode",{parentName:"li"},"component-id-556")," of type project"),(0,m.mdx)("li",{parentName:"ul"},"Retrieve specific page with query param ",(0,m.mdx)("inlineCode",{parentName:"li"},"page")),(0,m.mdx)("li",{parentName:"ul"},"Retrieve specific number of tags in a page with query param ",(0,m.mdx)("inlineCode",{parentName:"li"},"limit"))),(0,m.mdx)("h3",{id:"example-response-4"},"Example Response"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-json"},'{\n"content": [\n  {\n    "componentType": "project",\n    "componentId": "component-id-556",\n    "tags": [\n      {\n        "id": 35625,\n        "name": "finance",\n        "components": []\n      },\n      {\n        "id": 35624,\n        "name": "marketing",\n        "components": []\n      },      \n      {\n        "id": 35626,\n        "name": "warehouse",\n        "components": []\n      }\n    ]\n  }\n],\n"totalElements": 1,\n"totalPages": 1,\n"number": 0,\n"numberOfElements": 1,\n"firstPage": true,\n"lastPage": true,\n"sort": null,\n"size": 10\n}\n')),(0,m.mdx)("h2",{id:"example-retrieving-components-using-tags"},"Example retrieving components using tags"),(0,m.mdx)("p",null,"The following request example includes a ",(0,m.mdx)("inlineCode",{parentName:"p"},"curl")," request to retrieve a components of specific type associated with tag names."),(0,m.mdx)("h4",{id:"curl-request-5"},(0,m.mdx)("inlineCode",{parentName:"h4"},"curl")," Request"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-bash"},"curl -X GET \\\n  https://analytics.adobe.io/api/{COMPANYID}/componentmetadata/tags/tagnames?tagNames={COMMA_SEPARATED_TAG_NAMES}&componentType={COMPONENT_TYPE} \\\n  -H 'Accept: application/json' \\\n  -H 'Authorization: Bearer {ACCESSTOKEN}' \\\n  -H 'Content-Type: application/json' \\\n  -H 'x-api-key: {APIKEY}' \\\n  -H 'x-proxy-global-company-id: {COMPANYID}' \\\n  -d '{REQUESTJSON}'\n")),(0,m.mdx)("p",null,"The above curl command requests the following:"),(0,m.mdx)("ul",null,(0,m.mdx)("li",{parentName:"ul"},"Get components associated with tags present in ",(0,m.mdx)("inlineCode",{parentName:"li"},"COMMA_SEPARATED_TAG_NAMES"),"  and of type ",(0,m.mdx)("inlineCode",{parentName:"li"},"COMPONENT_TYPE"))),(0,m.mdx)("h3",{id:"example-response-5"},"Example Response"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-json"},'[\n  "component-id-1",\n  "component-id-2"\n]\n')),(0,m.mdx)("h2",{id:"example-retrieving-tag-using-id"},"Example retrieving tag using id"),(0,m.mdx)("p",null,"The following request example includes a ",(0,m.mdx)("inlineCode",{parentName:"p"},"curl")," request to retrieve a tag with id."),(0,m.mdx)("h4",{id:"curl-request-6"},(0,m.mdx)("inlineCode",{parentName:"h4"},"curl")," Request"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-bash"},"curl -X GET \\\n  https://analytics.adobe.io/api/{COMPANYID}/componentmetadata/tags/{TAG_ID} \\\n  -H 'Accept: application/json' \\\n  -H 'Authorization: Bearer {ACCESSTOKEN}' \\\n  -H 'Content-Type: application/json' \\\n  -H 'x-api-key: {APIKEY}' \\\n  -H 'x-proxy-global-company-id: {COMPANYID}' \\\n  -d '{REQUESTJSON}'\n")),(0,m.mdx)("h3",{id:"example-response-6"},"Example Response"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "id": 35632,\n  "name": "sales",\n  "description": "sales department",\n  "components": [\n    {\n      "componentType": "project",\n      "componentId": "component-id-1"\n    }\n  ]\n}\n')),(0,m.mdx)("h2",{id:"example-retrieving-tags-for-a-component-of-particular-type"},"Example retrieving tags for a component of particular type"),(0,m.mdx)("p",null,"The following request example includes a ",(0,m.mdx)("inlineCode",{parentName:"p"},"curl")," request to retrieve tags for a component of particular type."),(0,m.mdx)("h4",{id:"curl-request-7"},(0,m.mdx)("inlineCode",{parentName:"h4"},"curl")," Request"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-bash"},"curl -X GET \\\n  https://analytics.adobe.io/api/{COMPANYID}/componentmetadata/tags/search?componentId={COMPONENT_ID}&componentType={COMPOENT_TYPE} \\\n  -H 'Accept: application/json' \\\n  -H 'Authorization: Bearer {ACCESSTOKEN}' \\\n  -H 'Content-Type: application/json' \\\n  -H 'x-api-key: {APIKEY}' \\\n  -H 'x-proxy-global-company-id: {COMPANYID}' \\\n  -d '{REQUESTJSON}'\n")),(0,m.mdx)("h3",{id:"example-response-7"},"Example Response"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-json"},'[\n  {\n    "id": 35653,\n    "name": "sales",\n    "description": "sales department",\n    "components": [\n      {\n        "componentType": "{COMPONENT_TYPE}",\n        "componentId": "{COMPONENT_ID}"\n      }\n    ]\n  },\n  {\n    "id": 35654,\n    "name": "finance",\n    "description": "finance department",\n    "components": [\n      {\n        "componentType": "{COMPONENT_TYPE}",\n        "componentId": "{COMPONENT_ID}"\n      }\n    ]\n  }\n]\n')),(0,m.mdx)("h2",{id:"update-tags-for-components"},"Update tags for components"),(0,m.mdx)("p",null,"The following request example includes both a JSON message request body and a ",(0,m.mdx)("inlineCode",{parentName:"p"},"curl")," request to create and delete multiple tags associated with components."),(0,m.mdx)("h3",{id:"json-request-message-2"},"JSON Request Message"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:'language-json={line-numbers="yes"}'},'[\n   {\n      "componentType":"project",\n      "componentId":"component-id-1",\n      "tags":[\n         {\n            "name":"marketing-1",\n            "description":"marketing 1"\n         },\n         {\n            "name":"marketing-2",\n            "description":"markerting 2"\n         }\n      ]\n   }\n]\n')),(0,m.mdx)("p",null,"The JSON message requests the following:"),(0,m.mdx)("ul",null,(0,m.mdx)("li",{parentName:"ul"},"create two tags with description ",(0,m.mdx)("inlineCode",{parentName:"li"},"marketing-1")," and ",(0,m.mdx)("inlineCode",{parentName:"li"},"marketing-2")),(0,m.mdx)("li",{parentName:"ul"},"associate ",(0,m.mdx)("inlineCode",{parentName:"li"},"marketing-1")," and ",(0,m.mdx)("inlineCode",{parentName:"li"},"marketing-2")," tag with components with ids ",(0,m.mdx)("inlineCode",{parentName:"li"},"component-id-1")," "),(0,m.mdx)("li",{parentName:"ul"},"if there are any preexisting tags associated with ",(0,m.mdx)("inlineCode",{parentName:"li"},"component-id-1")," then remove these associations.")),(0,m.mdx)("h4",{id:"curl-request-8"},(0,m.mdx)("inlineCode",{parentName:"h4"},"curl")," Request"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-bash"},"curl -X PUT \\\n  https://analytics.adobe.io/api/{COMPANYID}/componentmetadata/tags/tagitems \\\n  -H 'Accept: application/json' \\\n  -H 'Authorization: Bearer {ACCESSTOKEN}' \\\n  -H 'Content-Type: application/json' \\\n  -H 'x-api-key: {APIKEY}' \\\n  -H 'x-proxy-global-company-id: {COMPANYID}' \\\n  -d '{REQUESTJSON}'\n")),(0,m.mdx)("h3",{id:"example-response-8"},"Example Response"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-json"},'[\n  {\n    "componentType": "project",\n    "componentId": "component-id-1",\n    "tags": [\n      {\n        "id": 35653,\n        "name": "marketing-1",\n        "description": "marketing 1"\n      },\n      {\n        "id": 35654,\n        "name": "marketing-2",\n        "description": "marketing 2"\n      }\n    ],\n    "status": {\n      "success": true\n    }\n  }\n]\n')))}r.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guides-component-meta-data-apis-index-md-7cb0eb985ba1f6894d67.js.map