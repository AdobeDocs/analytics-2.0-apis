"use strict";(self.webpackChunkanalytics_2_0_apis=self.webpackChunkanalytics_2_0_apis||[]).push([[2914],{77503:function(e,t,n){n.d(t,{MF:function(){return B},MH:function(){return H},SL:function(){return j},UW:function(){return T},cI:function(){return q},dd:function(){return U},ie:function(){return V}});var r=n(4942),o=n(42982),l=n(15861),a=n(64687),i=n.n(a),s=n(15007),d=n(86029),c=n(75900),u=n.n(c),p=n(65480),v=n(47720),g=n(59273),f=n(48325),m=n(27860),h=n(68457),y=n(8),b=n(53971);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=/^(localhost:\d{1,5}|(\*\.|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+(\.[a-zA-Z]{2,})+)|\*|(\*\.[a-zA-Z0-9-]+(\.[a-zA-Z]{2,})+))$/,O=/^(?=[A-Za-z0-9\s]{6,}$)[A-Za-z0-9\s]*$/,D={name:"19cme6k",styles:"margin-left:10px;color:var(--spectrum-global-color-gray-800);&:hover{color:var(--spectrum-global-color-gray-900);}"},C={name:"17fjgey",styles:"width:fit-content;margin-top:10px"},k={name:"1e43w35",styles:"color:rgb(0, 84, 182);&:hover{color:rgb(2, 101, 220);}"},S={name:"1kjtuj9",styles:"color:var(--spectrum-global-color-gray-800);margin:0"},A={name:"oq6u0f",styles:"display:flex;gap:10px"},z={name:"ftyx0c",styles:"display:flex;gap:24px;flex-direction:column;width:100%"},F={name:"1pmf9ly",styles:"border:none;padding:0;font-family:'adobe-clean';background:transparent;margin-left:10px;text-decoration:underline;color:var(--spectrum-global-color-gray-800);cursor:pointer"},N={name:"7hgi8",styles:"color:var(--spectrum-global-color-gray-800)"},P={name:"budh8k",styles:"display:flex;flex-direction:column;gap:16px"},j=function e(t){var n,r=t.formProps,a=t.credentialType,c=t.service,y=(0,s.useState)(!1),w=y[0],j=y[1],E=(0,s.useState)(!1),M=E[0],_=E[1],I=(0,s.useState)({}),L=I[0],R=I[1],$=(0,s.useState)(""),G=$[0],J=$[1],W=(0,s.useState)(!0),Y=W[0],X=W[1],K=(0,s.useState)(!1),Q=K[0],ee=K[1],te=(0,s.useState)([]),ne=te[0],re=te[1],oe=(0,s.useState)({}),le=oe[0],ae=oe[1],ie=(0,s.useState)(!1),se=ie[0],de=ie[1],ce=(0,s.useState)(!1),ue=ce[0],pe=ce[1],ve=(0,s.useState)(!1),ge=ve[0],fe=ve[1],me=(0,s.useState)(!1),he=me[0],ye=me[1],be=(0,s.useState)(!1),we=be[0],xe=be[1],Ze=(0,s.useState)({}),Oe=Ze[0],De=Ze[1],Ce=(0,s.useState)(!0),ke=Ce[0],Se=Ce[1],Ae=(0,s.useState)(!0),ze=Ae[0],Fe=(Ae[1],null==r?void 0:r[e]),Ne=null==Fe||null===(n=Fe.children)||void 0===n?void 0:n.filter((function(e){return Object.keys(e.props).some((function(e){return e.startsWith("contextHelp")}))})),Pe=function(){var e=(0,l.Z)(i().mark((function e(){var t,n,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(n=null===(t=localStorage)||void 0===t?void 0:t.getItem("OrgInfo"))?1===(null==(r=(0,h.Xu)(De))?void 0:r.length)&&Se(!1):(o=JSON.parse(n),Se(1!==o.orgLen),De(o));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){setTimeout((function(){xe(!1)}),8e3)}),[we]),(0,s.useEffect)((function(){Y&&_(!1)}),[Y]),(0,s.useEffect)((function(){if(!Q&&Y){var e=x({},le);for(var t in e)e[t]="";ae(e),ye(!1)}}),[Q]),(0,s.useEffect)((function(){var e,t;e={},t={label:"Language",selectOptions:[]},null==Fe||Fe.children.forEach((function(n){var r,l=n.type,a=n.props;l===V&&null!=a&&a.children&&(t.required=a.required||!1,(r=t.selectOptions).push.apply(r,(0,o.Z)([].concat(a.children).map((function(e){var t=e.props;return{title:t.title,href:t.href}})))),ae((function(e){var t,n;return x(x({},e),Array.isArray(a.children)?null:{Download:null===(t=a.children)||void 0===t||null===(n=t.props)||void 0===n?void 0:n.title})}))),e[l]=x(x({},a),{},{required:l===H||(null==a?void 0:a.required)})})),t.selectOptions.length&&(e[T]=t,1===t.selectOptions.length&&ae((function(e){var n,r;return x(x({},e),{},{Download:null===(n=t.selectOptions[0])||void 0===n?void 0:n.title,zipUrl:null===(r=t.selectOptions[0])||void 0===r?void 0:r.href})}))),re(e),Pe()}),[]),(0,s.useEffect)((function(){if(M){var e=x({},le);for(var t in e)e[t]="";ae(e)}}),[M]),(0,s.useEffect)((function(){var e,t,n,r,o=null===(e=Array.from((null==Fe?void 0:Fe.children)||[]).filter((function(e){var t;return(null==e||null===(t=e.props)||void 0===t?void 0:t.required)||e.type===H})))||void 0===e?void 0:e.map((function(e){return e.type})),l=O.test(le.CredentialName)&&(null===(t=le.CredentialName)||void 0===t?void 0:t.length)>=6,a=o.filter((function(e){return"AllowedOrigins"===e.name})),i=null===(n=le.AllowedOrigins)||void 0===n?void 0:n.split(",").map((function(e){return Z.test(e.trim())})),s=!a||(null==i?void 0:i.every((function(e){return!0===e})))&&void 0!==le.AllowedOrigins&&0!==(null===(r=le.AllowedOrigins)||void 0===r?void 0:r.length),d=l&&s&&!0===le.Agree;fe(d)}),[le]);var je=function(e,t){var n="Downloads"===t||"Agree"===t?e.target.checked:e.target.value;if(ae((function(e){var r;return x(x({},e),{},((r={})[t]=n,r))})),"Download"===t&&le.Downloads){var r,o=null==ne||null===(r=ne[T])||void 0===r?void 0:r.selectOptions.find((function(t){return t.title===e.target.value}));o&&ae((function(e){return x(x({},e),{},{zipUrl:o.href})}))}},Be=function(){var e=(0,l.Z)(i().mark((function e(){var t,n,r,o,l,s,d,u,p,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=null===(t=window.adobeIMS)||void 0===t||null===(n=t.getTokenFromStorage())||void 0===n?void 0:n.token)||console.log("User not logged in"),j(!0),X(!1),o={name:le.CredentialName,platform:a,description:"created for get credential",domain:le.AllowedOrigins,services:[{sdkCode:c}]},e.prev=5,e.next=8,fetch("/console/api/organizations/"+(null==Oe?void 0:Oe.id)+"/integrations/adobeid",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+r,"x-api-key":null===(l=window)||void 0===l||null===(s=l.adobeIMS)||void 0===s||null===(d=s.adobeIdData)||void 0===d?void 0:d.client_id},body:JSON.stringify(o)});case 8:return u=e.sent,e.next=11,u.json();case 11:p=e.sent,200===u.status?(R(p),ee(!0),ye(!0)):null!=p&&p.messages&&(ye(!0),fe(!1),J(null==p||null===(v=p.messages[0])||void 0===v?void 0:v.message),X(!0)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),_(!0);case 18:return e.prev=18,j(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}(),Ee=null==ne?void 0:ne[B],He=null==ne?void 0:ne[H],Ue=null==ne?void 0:ne[U],Me=null==ne?void 0:ne[V],_e=null==ne?void 0:ne[T];return(0,d.tZ)(s.default.Fragment,null,!ue&&Y&&!w&&(0,d.tZ)("div",{className:u()(null==Fe?void 0:Fe.className),css:P},(0,d.tZ)("div",{css:(0,d.iv)("display:flex;flex-direction:column;gap:16px;color:var(--spectrum-global-color-gray-800);width:100%;height:100%;text-align:left;@media screen and (min-width:",h.xU,") and (max-width:",h.Ey,"){padding:0;width:100%;}","")},(null==Fe?void 0:Fe.title)&&(0,d.tZ)("h3",{className:"spectrum-Heading spectrum-Heading--sizeL"},null==Fe?void 0:Fe.title),(null==Fe?void 0:Fe.paragraph)&&(0,d.tZ)("p",{className:"spectrum-Body spectrum-Body--sizeL"},null==Fe?void 0:Fe.paragraph),ze&&(0,d.tZ)("p",{className:"spectrum-Body spectrum-Body--sizeS",css:N},"You're creating this credential in  ","developer"===(null==Oe?void 0:Oe.type)?"in your personal developer organization":(0,d.tZ)("span",null,"[",(0,d.tZ)("b",null,null==Oe?void 0:Oe.name),"] "),".",ke&&(0,d.tZ)("button",{tabIndex:"0",css:F,onClick:function(){return de(!0)}},"Change organization?"))),(0,d.tZ)("div",{css:(0,d.iv)("display:flex;gap:35px;@media screen and (min-width:",h.xU,") and (max-width:",h.Ey,"){flex-direction:column;padding-left:0;}","")},(0,d.tZ)("div",{css:(0,d.iv)("display:flex;flex-direction:column;gap:35px;width:50%;@media screen and (min-width:",h.xU,") and (max-width:",h.Ey,"){width:100%;}","")},(0,d.tZ)("div",{css:z},He&&(0,d.tZ)(H,{nameProps:He,isFormValue:Ne,formData:le,handleChange:je}),Ue&&(0,d.tZ)(U,{originsProps:Ue,isFormValue:Ne,formData:le,handleChange:je}),Me&&_e&&(0,d.tZ)(V,{downloadsProp:Me,type:"Downloads",formData:le,handleChange:je}),le.Downloads&&_e&&(0,d.tZ)(T,{downloadProp:_e,formData:le,isFormValue:Ne,handleChange:je}),(0,d.tZ)("div",{css:A},(0,d.tZ)("input",{type:"checkbox",checked:le.Agree,onChange:function(e){return je(e,"Agree")}}),(0,d.tZ)("p",{css:S},"By checking this box, you agree to ",(0,d.tZ)("a",{href:"https://wwwimages2.adobe.com/content/dam/cc/en/legal/servicetou/Adobe-Developer-Additional-Terms_en-US_20230822.pdf",css:k,target:"_blank",rel:"noreferrer"},"Adobe Developer Terms of Use"),".")),(0,d.tZ)("button",{id:"credentialButton",className:"spectrum-Button spectrum-Button--fill spectrum-Button--accent spectrum-Button--sizeM",css:C,onClick:Be,disabled:!ge},(0,d.tZ)("span",{className:"spectrum-Button-label"},"Create credential")))),Ee?(0,d.tZ)(q,{sideContent:null==Ee?void 0:Ee.children}):null),(0,d.tZ)("p",{className:"spectrum-Body spectrum-Body--sizeS",css:(0,d.iv)("color:var(--spectrum-global-color-gray-800);@media screen and (min-width:",h.xU,") and (max-width:",h.Ey,"){padding-left:0;}","")},"Have existing credentials?",(0,d.tZ)("a",{href:"/console/",target:"_blank",rel:"noreferrer",css:D},"Go to Developer Console"))),he&&(0,d.tZ)(s.default.Fragment,null,we?(0,d.tZ)(b.F,{message:"Organization Changed",variant:"success",disable:8e3,customDisableFunction:ye}):(0,d.tZ)(b.F,{customDisableFunction:ye,message:Y&&!Q?G:!M&&Q&&"Your credentials were created successfully.",variant:M||Y&&!Q?"error":"success",disable:M||Y&&!Q?null:8e3})),w&&!Q&&(0,d.tZ)(v.g,{credentials:Fe,downloadStatus:le.Downloads}),se&&(0,d.tZ)(f.G,{setModalOpen:de,redirectToBeta:ue,setRedirectBetaProgram:pe,setAlertShow:ye,alertShow:he,organizationChange:we,setOrganization:xe,setOrganizationValue:De}),M&&!Y&&!Q&&(0,d.tZ)(g.I,{errorMessage:null==r?void 0:r[g.I]}),Q&&!Y&&(0,d.tZ)(p.Z,{credentialProps:r,response:L,setShowCreateForm:X,setShowCredential:ee,organizationName:null==Oe?void 0:Oe.name,formData:le,orgID:null==Oe?void 0:Oe.id}),ue&&(0,d.tZ)(m.Z,{joinBeta:null==r?void 0:r[m.Z]}))},B=function(e){return e.side},E={name:"8sarsy",styles:"position:relative;display:inline-block;width:100%"},H=function(e){var t,n,r,o=e.nameProps,l=e.isFormValue,a=e.formData,i=e.handleChange,s=!O.test(a.CredentialName),c=0!==(null===(t=a.CredentialName)||void 0===t?void 0:t.length)&&s;return(0,d.tZ)(h.Mt,{isFormValue:l,fields:o,formData:a,isRed:c},(0,d.tZ)("div",{css:E},(0,d.tZ)("input",{type:"text",css:(0,d.iv)("padding:7px;border-radius:3px;width:97%;border:1px solid ",c?"rgb(211, 21, 16)":"var(--spectrum-global-color-gray-400)",";&::placeholder{font-style:italic;color:var(--spectrum-global-color-gray-400);}&:focus{outline:none;border-color:",c?"rgb(211, 21, 16)":"var(--spectrum-global-color-gray-400)",";}",""),value:a.CredentialName,onChange:function(e){return i(e,"CredentialName")},placeholder:null==o?void 0:o.placeholder,maxLength:null==o?void 0:o.range}),(0,d.tZ)("span",{css:(0,d.iv)("display :",(null===(n=a.CredentialName)||void 0===n?void 0:n.length)<3&&0!==(null===(r=a.CredentialName)||void 0===r?void 0:r.length)?"block":"none",";","")},(0,d.tZ)(h.zM,null))))},U=function(e){var t,n,r=e.originsProps,o=e.isFormValue,l=e.type,a=e.formData,i=e.handleChange,s=null===(t=a.AllowedOrigins)||void 0===t?void 0:t.split(",").map((function(e){return Z.test(e.trim())})),c=null==s?void 0:s.every((function(e){return!0===e})),u=void 0!==a.AllowedOrigins&&!c&&0!==(null===(n=a.AllowedOrigins)||void 0===n?void 0:n.length);return(0,d.tZ)(h.Mt,{isFormValue:o,fields:r,type:l,formData:a,isRed:u},(0,d.tZ)("textarea",{css:(0,d.iv)("flex:1;padding:7px;height:50px;border-radius:3px;border:1px solid ",u?"rgb(211, 21, 16)":"var(--spectrum-global-color-gray-400)",";resize:none;width:90%;color:#4b4b4b;font-family:adobe-clean,Helvetica,Arial,sans-serif;&::placeholder{color:var(--spectrum-global-color-gray-600);font-style:italic;}&:focus{outline:none;border-color:",u?"rgb(211, 21, 16)":"var(--spectrum-global-color-gray-400)",";}&:hover{&::placeholder{color:var(--spectrum-global-color-gray-800);}}",""),value:a.AllowedOrigins,placeholder:null==r?void 0:r.placeholder,onChange:function(e){return i(e,"AllowedOrigins")}}))},M={name:"i92civ",styles:"cursor:pointer;display:flex;justify-content:center;align-items:center"},_={name:"18ny2tv",styles:"color:var(--spectrum-dialog-confirm-description-text-color, var(--spectrum-global-color-gray-800));margin:0"},I={name:"zatqba",styles:"display:flex;gap:10px;align-items:center"},V=function(e){var t=e.downloadsProp,n=e.handleChange,r=e.formData,o=t.label,l=t.contextHelpLabelForLink,a=t.contextHelpLink,i=t.contextHelpText,s=t.contextHelp,c=t.contextHelpHeading;return(0,d.tZ)("div",{css:I},(0,d.tZ)("input",{type:"checkbox",onChange:function(e){return n(e,"Downloads")},checked:r.Downloads}),(0,d.tZ)("p",{css:_}," ",o," "),(0,d.tZ)("div",{css:M},s&&(0,d.tZ)(y.r,{heading:c,text:i,link:a,label:l})))},L={name:"wd7e5h",styles:"font-style:italic;font-weight:500;font-family:'adobe-clean';padding:7px;border-radius:3px;border:1px solid #D0D0D0!important;width:100%"},T=function(e){var t,n,r,o=e.downloadProp,l=e.formData,a=e.isFormValue,i=e.handleChange;return(0,d.tZ)(s.default.Fragment,null,(null==o||null===(t=o.selectOptions)||void 0===t?void 0:t.length)>1&&(0,d.tZ)(h.Mt,{isFormValue:a,fields:o},(0,d.tZ)("select",{css:L,id:"selectBox",value:l.Download,onChange:function(e){return i(e,"Download")}},(null==o||null===(n=o.selectOptions)||void 0===n?void 0:n.length)>1&&(0,d.tZ)("option",{value:"",hidden:!0},"Select language for your code pickData"),null==o||null===(r=o.selectOptions)||void 0===r?void 0:r.map((function(e,t){return(0,d.tZ)("option",{key:t,"data-link":e.href,value:e.title},e.title)})))))},q=function(e){var t=e.sideContent;return(0,d.tZ)(s.default.Fragment,null,(0,d.tZ)("div",{css:(0,d.iv)("width:2px;background-color:#D0D0D0;@media screen and (min-width:",h.xU,") and (max-width:",h.Ey,"){display:none;}","")}),(0,d.tZ)("div",{css:(0,d.iv)("width:50%;@media screen and (min-width:",h.xU,") and (max-width:",h.Ey,"){width:100%;}","")},(0,d.tZ)(B,{side:t})))}}}]);
//# sourceMappingURL=987e9e88-f255b295037ed873583a.js.map