{"version":3,"sources":["webpack://dev-site-documentation-template/./src/pages/guides/getting-started/oauth-curl.md"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"mappings":"6SAQaA,EAAe,GACtBC,EAAc,CAClBD,gBAEIE,EAAYC,IACH,SAASC,EAAT,GAGX,IAFFC,EAEC,EAFDA,WACGC,GACF,YACD,OAAO,SAACJ,GAAD,UAAeD,EAAiBK,EAAhC,CAAuCD,WAAYA,EAAYE,QAAQ,eAG5E,eACE,GAAM,mCADR,oCAGA,iEACA,oBACE,eAAIC,WAAW,MAAf,sBACA,eAAIA,WAAW,MAAf,8BACA,eAAIA,WAAW,MAAf,6BAEF,eACE,GAAM,oBADR,qBAGA,mFACA,qBAAK,iBAAMA,WAAW,OAAjB,sOAEL,2CACA,oBACE,eAAIA,WAAW,MAAf,oEAAwF,uBAAYA,WAAW,MAAvB,eAAxF,mCACA,eAAIA,WAAW,MAAf,YAAgC,uBAAYA,WAAW,MAAvB,kBAAhC,mEACA,eAAIA,WAAW,MAAf,uDACA,eAAIA,WAAW,MAAf,2GAA+H,uBAAYA,WAAW,MAAvB,gBAA/H,QAEF,eACE,GAAM,4BADR,6BAGA,4EACA,qBAAK,iBAAMA,WAAW,MAClB,UAAa,iBADZ,qLAIL,mDACA,oBACE,eAAIA,WAAW,MAAf,YAAgC,uBAAYA,WAAW,MAAvB,+BAAhC,qFACA,eAAIA,WAAW,MAAf,YAAgC,uBAAYA,WAAW,MAAvB,eAAhC,qEACA,eAAIA,WAAW,MAAf,YAAgC,uBAAYA,WAAW,MAAvB,mBAAhC,yEACA,eAAIA,WAAW,MAAf,mDAAuE,uBAAYA,WAAW,MAAvB,gBAAvE,iCAEF,qBAAK,iBAAMA,WAAW,MAClB,UAAa,iBADZ,uxBAqCL,mBAAG,eAAIA,WAAW,KAAf,sHAAyI,uBAAYA,WAAW,MAAvB,gBAAzI,yIAA2U,uBAAYA,WAAW,MAAvB,mBAA3U,mFAA0d,uBAAYA,WAAW,MAAvB,eAA1d,OACH,eACE,MAAS,IAET,eAAIA,WAAW,MAAf,gEAEF,eACE,GAAM,wDADR,yDAGA,iDACA,qBAAK,iBAAMA,WAAW,MAClB,UAAa,iBADZ,mLAIL,oBACE,eAAIA,WAAW,MAAf,YAAgC,uBAAYA,WAAW,MAAvB,kBAAhC,0FACA,eAAIA,WAAW,MAAf,YAAgC,uBAAYA,WAAW,MAAvB,eAAhC,qEACA,eAAIA,WAAW,MAAf,yEAEF,qBAAK,iBAAMA,WAAW,MAClB,UAAa,iBADZ,qfAwBL,eACE,MAAS,IAET,eAAIA,WAAW,MAAf,YAAgC,uBAAYA,WAAW,MAAvB,mBAAhC,kEAA8J,uBAAYA,WAAW,MAAvB,WAA9J,kBAAoO,uBAAYA,WAAW,MAAvB,iBAApO,uCAAqU,uBAAYA,WAAW,MAAvB,uBAArU,oFAAyd,uBAAYA,WAAW,MAAvB,uBAAzd,wDAAilB,uBAAYA,WAAW,MAAvB,qCAAjlB,sCAEF,qBAAK,iBAAMA,WAAW,MAClB,UAAa,iBADZ,6NAIL,eACE,MAAS,IAET,eAAIA,WAAW,MAAf,YAAgC,uBAAYA,WAAW,MAAvB,kBAAhC,SAAoG,uBAAYA,WAAW,MAAvB,eAApG,wDACA,eAAIA,WAAW,MAAf,uFAEF,+BAAgB,uBAAYA,WAAW,KAAvB,gBAAhB,MAA8E,uBAAYA,WAAW,KAAvB,qBAA9E,SAAoJ,uBAAYA,WAAW,KAAvB,aAApJ,iDAA0P,cAAGA,WAAW,IACpQ,KAAQ,kDAD8O,cAA1P,2DAOJJ,EAAWK,gBAAiB","file":"component---src-pages-guides-getting-started-oauth-curl-md-8dc68fcb478ee805ebb3.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/analytics-2.0-apis/analytics-2.0-apis/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"oauth-authentication-using-curl\"\n    }}>{`OAuth Authentication using cURL`}</h1>\n    <p>{`To obtain Oauth authentication using cURL:`}</p>\n    <ol>\n      <li parentName=\"ol\">{`Get an auth code.`}</li>\n      <li parentName=\"ol\">{`Generate an access token.`}</li>\n      <li parentName=\"ol\">{`Test your access token.`}</li>\n    </ol>\n    <h2 {...{\n      \"id\": \"get-an-auth-code\"\n    }}>{`Get an auth code`}</h2>\n    <p>{`Use the following model as a cURL request for an auth code: `}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`https://ims-na1.adobelogin.com/ims/authorize?client_id={CLIENT ID}&redirect_uri={REDIRECT URI}&scope=openid,AdobeID,read_organizations,additional_info.job_function,additional_info.projectedProductContext&response_type=code\n`}</code></pre>\n    <p>{`To get an auth code:`}</p>\n    <ol>\n      <li parentName=\"ol\">{`Copy the Client ID from your OAuth client and paste it into the `}<inlineCode parentName=\"li\">{`{CLIENT ID}`}</inlineCode>{` placeholder in the URI above.`}</li>\n      <li parentName=\"ol\">{`Replace `}<inlineCode parentName=\"li\">{`{REDIRECT URI}`}</inlineCode>{` with the redirect URI you specified when creating the client.`}</li>\n      <li parentName=\"ol\">{`Paste the complete URI into your favorite browser.`}</li>\n      <li parentName=\"ol\">{`After authenticating via IMS, copy the auth code query parameter in the URI (the parameter begins with `}<inlineCode parentName=\"li\">{`code=eyJ4...`}</inlineCode>{`).`}</li>\n    </ol>\n    <h2 {...{\n      \"id\": \"generate-an-access-token\"\n    }}>{`Generate an access token`}</h2>\n    <p>{`Use the following model to generate an access token: `}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`curl  --data \"grant_type=authorization_code&client_id={CLIENT ID}&client_secret={CLIENT SECRET}&code={AUTH CODE QUERY PARAMETER}\" https://ims-na1.adobelogin.com/ims/token/v1\n`}</code></pre>\n    <p>{`To generate an access token:`}</p>\n    <ol>\n      <li parentName=\"ol\">{`Replace `}<inlineCode parentName=\"li\">{`{AUTH CODE QUERY PARAMETER}`}</inlineCode>{` with the auth code you copied from the previous step in the above cURL request.`}</li>\n      <li parentName=\"ol\">{`Replace `}<inlineCode parentName=\"li\">{`{CLIENT ID}`}</inlineCode>{` in the above request with the Client ID from your Oauth client.`}</li>\n      <li parentName=\"ol\">{`Replace `}<inlineCode parentName=\"li\">{`{CLIENT SECRET}`}</inlineCode>{` in the above request with the Client Secret from your Oauth client.`}</li>\n      <li parentName=\"ol\">{`Run the cURL command. The response includes an `}<inlineCode parentName=\"li\">{`access_token`}</inlineCode>{` attribute, as shown below:`}</li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n  \"account_type\": \"type1\",\n  \"utcOffset\": \"null\",\n  \"preferred_languages\": [\n    \"en-us\"\n  ],\n  \"projectedProductContext\": [\n    {\n      \"prodCtx\": {\n        \"serviceCode\": \"dma_analytics\",\n        \"global_company_id\": \"testco0\",\n        \"login_company\": \"Test Company\",\n        ...\n      }\n    },\n    ...\n  ],\n  \"displayName\": \"James Ross\",\n  \"last_name\": \"Ross\",\n  \"token_type\": \"bearer\",\n  \"userId\": \"JAMESROSS@AdobeID\",\n  \"access_token\": \"eyJ4...TOKEN_OMITTED\",\n  \"refresh_token\": \"eyJ4...TOKEN_OMITTED\",\n  \"emailVerified\": \"true\",\n  \"phoneNumber\": null,\n  \"countryCode\": \"US\",\n  \"name\": \"Bob Ross\",\n  \"mrktPerm\": \"EMAIL:false\",\n  \"mrktPermEmail\": \"false\",\n  \"expires_in\": 86399988,\n  \"first_name\": \"James\",\n  \"email\": \"test@adobe.com\",\n  ...\n}\n`}</code></pre>\n    <p><em parentName=\"p\">{`Note: If you have access to numerous product profiles, the response can be very large. If it is so large that the `}<inlineCode parentName=\"em\">{`access_token`}</inlineCode>{` is truncated from the response, you can write it to a file in order to find your access token. To write the response to a file, add `}<inlineCode parentName=\"em\">{` >> output.json`}</inlineCode>{` to the end of your cURL request. The response is then written to a file named `}<inlineCode parentName=\"em\">{`output.json`}</inlineCode>{`.`}</em></p>\n    <ol {...{\n      \"start\": 5\n    }}>\n      <li parentName=\"ol\">{`Copy the access token to test it in the following section.`}</li>\n    </ol>\n    <h2 {...{\n      \"id\": \"test-your-access-token-by-calling-the-analytics-apis\"\n    }}>{`Test your access token by calling the Analytics APIs`}</h2>\n    <p>{`To test your access token:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`curl -X GET --header \"Accept: application/json\" --header \"x-api-key: {CLIENT ID}\" --header \"Authorization: Bearer {ACCESS_TOKEN}\" \"https://analytics.adobe.io/discovery/me\"\n`}</code></pre>\n    <ol>\n      <li parentName=\"ol\">{`Replace `}<inlineCode parentName=\"li\">{`{ACCESS_TOKEN}`}</inlineCode>{` with the access token you copied from the previous step into the above cURL request.`}</li>\n      <li parentName=\"ol\">{`Replace `}<inlineCode parentName=\"li\">{`{CLIENT ID}`}</inlineCode>{` in the above request with the client ID from your Oauth client.`}</li>\n      <li parentName=\"ol\">{`Run the cURL command. The following JSON shows an example response:`}</li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n  \"imsUserId\": \"1B..OMITTED..01@AdobeID\",\n  \"imsOrgs\": [\n    {\n      \"imsOrgId\": \"EA..OMITTED..29@AdobeOrg\",\n      \"companies\": [\n        {\n          \"globalCompanyId\": \"testco0\",\n          \"companyName\": \"Test Company\",\n          \"apiRateLimitPolicy\": \"aa_api_tier10_tp\"\n        },\n        {\n          \"globalCompanyId\": \"anothe0\",\n          \"companyName\": \"Another Test Company\",\n          \"apiRateLimitPolicy\": \"aa_api_tier10_tp\"\n        }\n      ]\n    },\n    ...\n  ]\n}\n`}</code></pre>\n    <ol {...{\n      \"start\": 4\n    }}>\n      <li parentName=\"ol\">{`Use the `}<inlineCode parentName=\"li\">{`globalCompanyId`}</inlineCode>{` value in your response (in the above example, it is shown as `}<inlineCode parentName=\"li\">{`testco0`}</inlineCode>{`) to test the `}<inlineCode parentName=\"li\">{`GET /users/me`}</inlineCode>{` endpoint. To do this, replace the `}<inlineCode parentName=\"li\">{`{GLOBAL COMPANY ID}`}</inlineCode>{` parameters in the following request with their corresponding values. Note that `}<inlineCode parentName=\"li\">{`{GLOBAL COMPANY ID}`}</inlineCode>{` occurs twice in the following request, once in the `}<inlineCode parentName=\"li\">{`x-proxy-company-global-company-id`}</inlineCode>{` header and another in the path:`}</li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`curl -X GET  --header \"Authorization: Bearer {ACCESS TOKEN} --header \"x-proxy-global-company-id: {GLOBAL COMPANY ID}\" --header \"x-api-key: {CLIENT ID}\" \"https://analytics.adobe.io/api/{GLOBAL COMPANY ID}/users/me\"\n`}</code></pre>\n    <ol {...{\n      \"start\": 5\n    }}>\n      <li parentName=\"ol\">{`Replace `}<inlineCode parentName=\"li\">{`{ACCESS TOKEN}`}</inlineCode>{` and `}<inlineCode parentName=\"li\">{`{CLIENT ID}`}</inlineCode>{` in the above request with their respective values.`}</li>\n      <li parentName=\"ol\">{`Run the cURL command. The response includes information about the analytics user.`}</li>\n    </ol>\n    <p>{`Use your `}<inlineCode parentName=\"p\">{`access token`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`global company id`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`client ID`}</inlineCode>{` to make calls to the APIs. You can use the  `}<a parentName=\"p\" {...{\n        \"href\": \"https://adobedocs.github.io/analytics-2.0-apis\"\n      }}>{`Swagger UI`}</a>{` as an easy way to explore calling the Analytics APIs.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}