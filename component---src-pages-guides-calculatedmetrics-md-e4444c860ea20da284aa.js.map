{"version":3,"sources":["webpack://dev-site-documentation-template/./src/pages/guides/calculatedmetrics.md"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"mappings":"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","file":"component---src-pages-guides-calculatedmetrics-md-e4444c860ea20da284aa.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/analytics-2.0-apis/analytics-2.0-apis/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"calculated-metrics-apis\"\n    }}>{`Calculated Metrics APIs`}</h1>\n    <p>{`The Analytics 2.0 Calculated Metrics APIs allow you to retrieve, update, or create calculated metrics programmatically through Adobe I/O. The APIs use the same data and methods that are used when working with calculated metrics in the UI. For more information on Adobe Analytics Calculated Metrics, see `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.adobe.com/content/help/en/analytics/components/calculated-metrics/cm-overview.html\"\n      }}>{`Adobe Help`}</a>{`.`}</p>\n    <h2 {...{\n      \"id\": \"authorization-and-authentication\"\n    }}>{`Authorization and authentication`}</h2>\n    <p>{`To obtain authorization and authentication, see the `}<a parentName=\"p\" {...{\n        \"href\": \"index.md\"\n      }}>{`Getting Started Guide for 2.0 APIs`}</a>{`.`}</p>\n    <h2 {...{\n      \"id\": \"calculatedmetrics-endpoint-description\"\n    }}>{`/calculatedmetrics endpoint description`}</h2>\n    <p>{`The `}<inlineCode parentName=\"p\">{`/calculatedmetrics`}</inlineCode>{` endpoint description is shown in our `}<a parentName=\"p\" {...{\n        \"href\": \"../api/index.md\"\n      }}>{`Swagger UI`}</a>{`. Use the Swagger UI to see endpoint summaries, available methods, parameters, example values, models, and status codes, and to try out the API.`}</p>\n    <h2 {...{\n      \"id\": \"best-practices\"\n    }}>{`Best practices`}</h2>\n    <p>{`Please follow these guidelines when using the Calculated Metrics APIs:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Make multiple requests, each one limited to 1000 calculated metrics or fewer when retrieving them. Avoid making a large, single request for all possible calculated metrics.`}</li>\n      <li parentName=\"ul\">{`Request data once and cache it.`}</li>\n      <li parentName=\"ul\">{`Try to avoid creating duplicate calculated metrics with the same definition. Creating many calculated metrics will affect performance for your company in some situations.`}</li>\n      <li parentName=\"ul\">{`Creating a calculated metric from scratch can be difficult without familiarity of the definition terms. We recommend using the Analysis Workspace UI for creating a calculated metric. Then use this API to retrieve the calculated metric and modify the definition to match what you want to do programmatically. Then we recommend that you `}<inlineCode parentName=\"li\">{`POST`}</inlineCode>{` that calculated metric with the modified definition back to this API.`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"predefined-calculated-metrics\"\n    }}>{`Predefined calculated metrics`}</h2>\n    <p>{`Adobe provides predefined calculated metrics templates for clients. Although original templates cannot be modified or deleted, copies of them can be made and then the copies can be modified. You can identify templates by the additional attribute `}<inlineCode parentName=\"p\">{`template: true`}</inlineCode>{`. Also, all template ids start with `}<inlineCode parentName=\"p\">{`cm_`}</inlineCode>{`. These calculated metrics templates can be used in Workspace projects like any other type of calculated metric but will not work in any other contexts.`}</p>\n    <h2 {...{\n      \"id\": \"expansions\"\n    }}>{`Expansions`}</h2>\n    <p>{`The primary calculated metrics endpoints support the URL query parameter `}<inlineCode parentName=\"p\">{`expansion`}</inlineCode>{`. This parameter allows requests for some response fields to be populated that would otherwise not be included. The available options for expansion can be viewed in our `}<a parentName=\"p\" {...{\n        \"href\": \"https://adobedocs.github.io/analytics-2.0-apis/\"\n      }}>{`Swagger UI`}</a>{`. They include the following:`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`reportSuiteName`}</inlineCode></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`ownerFullName`}</inlineCode></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`modified`}</inlineCode></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`tags`}</inlineCode></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`definition`}</inlineCode></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`compatibility`}</inlineCode></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`categories`}</inlineCode></li>\n    </ul>\n    <h2 {...{\n      \"id\": \"includetypes\"\n    }}>{`IncludeTypes`}</h2>\n    <p>{`The GET multiple `}<inlineCode parentName=\"p\">{`/calculatedmetrics`}</inlineCode>{` endpoint supports the query parameter `}<inlineCode parentName=\"p\">{`includeType`}</inlineCode>{`. This parameter alters the set of calculated metrics that are included in API responses. By default, responses without this parameter include only calculated metrics owned by the user making the request. When using this parameter, the following values are possible:`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`all`}</inlineCode>{`: Returns all calculated metrics linked to this company - this includeType is only available to admin users`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`shared`}</inlineCode>{`: Returns calculated metrics shared with the user`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`templates`}</inlineCode>{`: Returns all calculated metric templates`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"locale\"\n    }}>{`Locale`}</h2>\n    <p>{`All calculated metrics endpoints support the URL query parameter `}<inlineCode parentName=\"p\">{`locale`}</inlineCode>{`. Supported values are `}<inlineCode parentName=\"p\">{`en_US`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`fr_FR`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`jp_JP`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`ja_JP`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`de_DE`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`es_ES`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`ko_KR`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`pt_BR`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`zh_CN`}</inlineCode>{`, and `}<inlineCode parentName=\"p\">{`zh_TW`}</inlineCode>{`. This query parameter specifies which language is to be used for localized sections of responses. This parameter primarily affects the names of calculated metric templates, as most other parts of a calculated metric object include standard values (e.g. metric ids) or are set by the client (e.g. description), which are not localized.`}</p>\n    <h2 {...{\n      \"id\": \"pagination\"\n    }}>{`Pagination`}</h2>\n    <p>{`Any response that can return multiple calculated metrics can be paginated with the `}<inlineCode parentName=\"p\">{`page`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`limit`}</inlineCode>{` URL query parameters. The `}<inlineCode parentName=\"p\">{`limit`}</inlineCode>{` parameter indicates the size of the desired page, and the `}<inlineCode parentName=\"p\">{`page`}</inlineCode>{` parameter indicates which page you want.`}</p>\n    <h2 {...{\n      \"id\": \"retrieving-calculated-metrics\"\n    }}>{`Retrieving calculated metrics`}</h2>\n    <p>{`The GET multiple calculated metrics endpoint supports several URL query parameters that can be used to filter out which calculated metrics are included in the response. When requesting multiple calculated metrics, you can use the URL query parameters in the following table to filter and limit your response:`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Parameter`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`rsids`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Comma separated list of report suite ids. Returns only calculated metrics linked to these report suites`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`ownerId`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Filter list to only include calculated metrics owned by the specified loginId`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`filterByIds`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Comma separated list of calculated metric ids. Returns only calculated metrics with these ids`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`toBeUsedInRsid`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`A single report suite id. Returns only calculated metrics that are compatible with this report suite`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`name`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`A list of key words. Returns only calculated metrics with these key words in their names`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`tagNames`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`A list of tags. Returns only calculated metrics with these tags`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`favorite`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`true`}</inlineCode>{` or `}<inlineCode parentName=\"td\">{`false`}</inlineCode>{`. Returns only calculated metrics that are flagged as favorites`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`approved`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`true`}</inlineCode>{` or `}<inlineCode parentName=\"td\">{`false`}</inlineCode>{`. Returns only calculated metrics that are flagged as approved`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`sortDirection`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Sort direction (ASC or DESC)`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`sortProperty`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Property to sort by (name, modified_date, id is currently allowed)`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <p>{` For example, to retrieve all calculated metrics tagged as part of the `}<em parentName=\"p\">{`SpringPromotion`}</em>{` campaign, you can add the URL parameter `}<inlineCode parentName=\"p\">{`tagNames=SpringPromotion`}</inlineCode>{`.`}</p>\n    <h2 {...{\n      \"id\": \"example-curl-request\"\n    }}>{`Example cURL request`}</h2>\n    <p>{`The following example shows a calculated metrics request for a response localized in US English, limited to the first page, and with the size of ten responses per page.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`curl -X GET “https://analytics.adobe.io/api/[company name]/calculatedmetrics?locale=en_US&limit=10&page=0” -H “x-api-key: [oauth token]” -H “x-proxy-global-company-id: [company name]” -H “Authorization: Bearer [ims user token]” -H “Accept: application/json” -H “Content-Type: application/json”\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"example-response\"\n    }}>{`Example response`}</h2>\n    <p>{`The following example shows the response for the previous request, including the predefined calculated metrics for Bounce Rate and Revenue per Visitor (`}<inlineCode parentName=\"p\">{`cm_bouncerate_defaultmetric`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`cm_revenue_visitor_defaultmetric`}</inlineCode>{`):`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`[    \n    {\n      \"id\": \"cm_bouncerate_defaultmetric\",\n      \"name\": \"Bounce Rate\",\n      \"description\": \"Default Bounce Rate Metric\",\n      \"polarity\": \"positive\",\n      \"precision\": 1,\n      \"type\": \"percent\",\n      \"definition\": {\n        \"formula\": {\n          \"col\": {\n            \"func\": \"divide\",\n            \"col2\": {\n              \"func\": \"metric\",\n              \"name\": \"metrics/entries\",\n              \"description\": \"Entries\"\n            },\n            \"col1\": {\n              \"func\": \"metric\",\n              \"name\": \"metrics/bounces\",\n              \"description\": \"Bounces\"\n            }\n          },\n          \"func\": \"visualization-group\"\n        },\n        \"func\": \"calc-metric\",\n        \"version\": [\n          1,\n          0,\n          0\n        ]\n      },\n      \"template\": true,\n      \"categories\": [\n        \"Calculated Metrics\"\n      ]\n    },\n    {\n      \"id\": \"cm_revenue_visitor_defaultmetric\",\n      \"name\": \"Revenue / Visitor\",\n      \"description\": \"Default Revenue / Visitor Metric\",\n      \"polarity\": \"positive\",\n      \"precision\": 2,\n      \"type\": \"currency\",\n      \"definition\": {\n        \"formula\": {\n          \"func\": \"divide\",\n          \"col2\": {\n            \"func\": \"metric\",\n            \"name\": \"metrics/visitors\"\n          },\n          \"col1\": {\n            \"func\": \"metric\",\n            \"name\": \"metrics/revenue\"\n          }\n        },\n        \"func\": \"calc-metric\",\n        \"version\": [\n          1,\n          0,\n          0\n        ]\n      },\n      \"template\": true,\n      \"categories\": [\n        \"Calculated Metrics\"\n      ]\n    }\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"retrieving-a-single-calculated-metric\"\n    }}>{`Retrieving a single calculated metric`}</h2>\n    <p>{`To retrieve a single calculated metric, include its `}<inlineCode parentName=\"p\">{`id`}</inlineCode>{` in the request.`}</p>\n    <h3 {...{\n      \"id\": \"example-request\"\n    }}>{`Example request`}</h3>\n    <pre><code parentName=\"pre\" {...{}}>{`curl -X GET “https://analytics.adobe.io/api/[company name]/calculatedmetrics/[calculated metric id]?locale=en_US” -H “x-api-key: [oauth token]” -H “x-proxy-global-company-id: [company id]” -H “Authorization: Bearer [ims user token]” -H “Accept: application/json” -H “Content-Type: application/json”\n\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"example-response-1\"\n    }}>{`Example response`}</h3>\n    <pre><code parentName=\"pre\" {...{}}>{`{\n  \"id\": \"cm_bouncerate_defaultmetric\",\n  \"name\": \"Bounce Rate\",\n  \"description\": \"Default Bounce Rate Metric\",\n  \"polarity\": \"positive\",\n  \"precision\": 1,\n  \"type\": \"percent\",\n  \"definition\": { \"formula\": { \"col\": { \"func\": \"divide\", \"col2\": { \"func\": \"metric\", \"name\": \"metrics/entries\", \"description\": \"Entries\" }, \"col1\": { \"func\": \"metric\", \"name\": \"metrics/bounces\", \"description\": \"Bounces\" } }, \"func\": \"visualization-group\" }, \"func\": \"calc-metric\", \"version\": [ 1, 0, 0 ] },\n  \"template\": true,\n  \"categories\": [ \"Calculated Metrics\" ]\n}\n\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"deleting-a-calculated-metric\"\n    }}>{`Deleting a calculated metric`}</h2>\n    <p>{`The `}<inlineCode parentName=\"p\">{`DELETE`}</inlineCode>{` single calculated metric can be used to remove a calculated metric that is no longer needed.`}</p>\n    <h3 {...{\n      \"id\": \"example-delete-request\"\n    }}>{`Example `}<inlineCode parentName=\"h3\">{`DELETE`}</inlineCode>{` request`}</h3>\n    <p>{`The request is the same as retrieving a single calculated metric except to change the HTTP method to `}<inlineCode parentName=\"p\">{`DELETE`}</inlineCode>{`.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`curl -X DELETE “https://analytics.adobe.io/api/[company name]/calculatedmetrics/[calculated metrics id]?locale=en_US” -H “x-api-key: [oauth token]” -H “x-proxy-global-company-id: [company name]” -H “Authorization: Bearer [ims user token]” -H “Accept: application/json” -H “Content-Type: application/json”\n\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"updating-or-changing-a-calculated-metric\"\n    }}>{`Updating or Changing a Calculated Metric`}</h2>\n    <p>{`Existing calculated metrics can be edited via the `}<inlineCode parentName=\"p\">{`PUT`}</inlineCode>{` /calculatedmetrics/`}{`[calculated metric id]`}{` endpoint. Most calculated metrics fields can be updated, not including those that are derived or provided by the API.`}</p>\n    <p>{`The `}<inlineCode parentName=\"p\">{`PUT`}</inlineCode>{` endpoint also supports partial updates. This means that instead of sending the entire JSON object to the API, the request may include only the fields that need to be updated.`}</p>\n    <h3 {...{\n      \"id\": \"example-put-request\"\n    }}>{`Example `}<inlineCode parentName=\"h3\">{`PUT`}</inlineCode>{` request`}</h3>\n    <p>{`The following example shows JSON fields to be updated with a `}<inlineCode parentName=\"p\">{`PUT`}</inlineCode>{` request:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`{\n\n    \"id\": \"cm1234_abcdef0123456789\",\n    \"name\": \"new name\",\n    \"description\": \"new description\",\n    \"rsid\": \"[report suite id]\",\n    \"owner\": {\n        \"id\": 123456\n    }\n\n}\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"validate-endpoint\"\n    }}>{`Validate endpoint`}</h2>\n    <p>{`Because report suites can have different configurations, dimensions, or metrics, a calculated metric that is valid in one report suite may not be valid in another. To determine which calculated metric to use in different report suites--and why it may or may not be available--you can use the validate endpoint. This endpoint allows you to `}<inlineCode parentName=\"p\">{`POST`}</inlineCode>{` a definition along with a target report suite id. The validate endpoint responds with compatibility information on the calculated metric.`}</p>\n    <h3 {...{\n      \"id\": \"example-validate-request\"\n    }}>{`Example validate request`}</h3>\n    <p>{`The following example shows a request to validate a target report suite id for a given calculated metric definition:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`curl -X POST --header \"Content-Type: application/json\" --header \"Accept: application/json\" -H “x-api-key: [oauth token]” -H “x-proxy-global-company-id: [company name]” -H “Authorization: Bearer [ims user token]” -d \"{\n    \\\\\"rsid\\\\\": \\\\\"[report suite id]\\\\\",\n    \\\\\"definition\\\\\": {\n        \\\\\"formula\\\\\": {\n            \\\\\"func\\\\\": \\\\\"subtract\\\\\",\n            \\\\\"col2\\\\\": {\n                \\\\\"func\\\\\": \\\\\"metric\\\\\",\n                \\\\\"name\\\\\": \\\\\"metrics/reloads\\\\\"\n            },\n            \\\\\"col1\\\\\": {\n                \\\\\"func\\\\\": \\\\\"metric\\\\\",\n                \\\\\"name\\\\\": \\\\\"metrics/occurrences\\\\\"\n            }\n        },\n        \\\\\"func\\\\\": \\\\\"calc-metric\\\\\",\n        \\\\\"version\\\\\": [\n            1,\n            0,\n            0\n        ]\n    }\n}\" \"http://analytics.adobe.io/api/[company name]/calculatedmetrics/validate?locale=en_US\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"example-validate-response\"\n    }}>{`Example validate response`}</h3>\n    <p>{`The following response shows that the calculated metric definition and the target report suite id in the previous request are compatible (`}<inlineCode parentName=\"p\">{`\"valid\": true`}</inlineCode>{`):`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`{\n  \"valid\": true,\n  \"identityMetrics\": [ { \"identity\": \"metrics/occurrences\" }, { \"identity\": \"metrics/reloads\" } ],\n  \"functions\": [ \"subtract\" ],\n  \"validator_version\": \"1.0.0\",\n  \"supported_products\": [ \"oberon\", \"frag\" ],\n  \"supported_schema\": [ \"schema_oberon\", \"schema_frag\" ]\n}\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"creating-a-calculated-metric\"\n    }}>{`Creating a Calculated Metric`}</h2>\n    <p>{`Calculated metric names are allowed to include utf-8 character combinations that are not empty strings or null. However, if the name is too long, it does not display properly in the UI, so provide only useful and understandable names to improve readability.`}</p>\n    <p>{`To create a calculated metric with the Analytics APIs:`}</p>\n    <ol>\n      <li parentName=\"ol\">{`Define/Specify/Configure/Build a definition.`}</li>\n      <li parentName=\"ol\"><inlineCode parentName=\"li\">{`POST`}</inlineCode>{` the definition against the validate endpoint as in the above example with the id of the report suite the calculated metric is most likely to be used with.`}</li>\n      <li parentName=\"ol\">{`Specify a name. The name should be descriptive of what the calculated metric does. The description field can provide additional context about the calculated metric.`}</li>\n      <li parentName=\"ol\"><inlineCode parentName=\"li\">{`POST`}</inlineCode>{` to the `}<inlineCode parentName=\"li\">{`/calculatedmetrics`}</inlineCode>{` endpoint.`}</li>\n    </ol>\n    <h2 {...{\n      \"id\": \"calculated-metric-functions\"\n    }}>{`Calculated Metric Functions`}</h2>\n    <p>{`Calculated Metrics are comprised of several different mathematical functions that work on available metrics for a given report suite. These mathematical functions can be retrieved and inspected by making a call to the `}<inlineCode parentName=\"p\">{`GET /calculatedmetrics/functions`}</inlineCode>{` endpoint. This returns the full list of all methods. Optionally, the same call can be made to GET `}<inlineCode parentName=\"p\">{`/calculatedmetrics/functions/[function id]`}</inlineCode>{` to determine if a function is available, or to retrieve data about that function.`}</p>\n    <h3 {...{\n      \"id\": \"example-response-2\"\n    }}>{`Example response`}</h3>\n    <p>{`The following response shows data about the calculated metric function `}<inlineCode parentName=\"p\">{`add`}</inlineCode>{`:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`{\n    \"id\": \"add\",\n    \"category\": \"internal\",\n    \"persistable\": true,\n    \"definition\": {\n      \"func\": \"calc-metric\",\n      \"parameters\": [\n        {\n          \"func\": \"parameter-def\",\n          \"name\": \"col1\",\n          \"type\": \"column\",\n          \"friendlyNameKey\": \"metric_X\",\n          \"descKey\": \"FirstMetricToAdd\"\n        },\n        {\n          \"func\": \"parameter-def\",\n          \"name\": \"col2\",\n          \"type\": \"column\",\n          \"friendlyNameKey\": \"metric_Y\",\n          \"descKey\": \"SecondMetricToAdd\"\n        }\n      ],\n      \"version\": [\n        1,\n        0,\n        0\n      ]\n    }\n}\n`}</code></pre>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}