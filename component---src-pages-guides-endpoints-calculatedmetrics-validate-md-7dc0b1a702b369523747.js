"use strict";(self.webpackChunkanalytics_2_0_apis=self.webpackChunkanalytics_2_0_apis||[]).push([[3712],{79194:function(e,n,t){t.r(n),t.d(n,{_frontmatter:function(){return s},default:function(){return h}});var a=t(58168),i=t(98587),o=(t(36190),t(28619)),r=t(83407),d=["components"],s={},c=function(e){return function(n){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,o.mdx)("div",n)}},l=c("InlineAlert"),m=c("CodeBlock"),u={_frontmatter:s},p=r.A;function h(e){var n=e.components,t=(0,i.A)(e,d);return(0,o.mdx)(p,(0,a.A)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,o.mdx)("h1",{id:"validate-calculated-metrics"},"Validate calculated metrics"),(0,o.mdx)("p",null,"Because report suites can have different configurations, dimensions, or metrics, a calculated metric that is valid in one report suite may not be valid in another. To determine which calculated metric to use in different report suites, and why it may or may not be available, you can use the ",(0,o.mdx)("inlineCode",{parentName:"p"},"/validate")," endpoint. This endpoint allows you to ",(0,o.mdx)("inlineCode",{parentName:"p"},"POST")," a definition along with a target report suite id. The validate endpoint responds with compatibility information on the calculated metric."),(0,o.mdx)("p",null,(0,o.mdx)("inlineCode",{parentName:"p"},"POST https://analytics.adobe.io/api/{COMPANY_ID}/calculatedmetrics/validate")),(0,o.mdx)(l,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,o.mdx)("p",null,"Adobe may add optional request and response members (name/value pairs) to existing API objects at any time and without notice or changes in versioning. Adobe recommends that you refer to the API documentation of any third-party tool you integrate with our APIs so that such additions are ignored in processing if not understood. If implemented properly, such additions are non-breaking changes for your implementation. Adobe will not remove parameters or add required parameters without first providing standard notification through release notes."),(0,o.mdx)("h2",{id:"example-validate-request"},"Example validate request"),(0,o.mdx)("p",null,"The following example shows a request to validate a target report suite id for a given calculated metric definition:"),(0,o.mdx)(m,{slots:"heading, code",repeat:"2",languages:"CURL,JSON",mdxType:"CodeBlock"}),(0,o.mdx)("h4",{id:"request"},"Request"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-sh"},'curl -X POST "http://analytics.adobe.io/api/exampleco/calculatedmetrics/validate?locale=en_US" \\\n    -H "x-api-key: {CLIENTID}" \\\n    -H "Authorization: Bearer {ACCESSTOKEN}" \\\n    -d \'{\n  "rsid": "[report suite id]",\n  "definition": {\n    "formula": {\n      "func": "subtract",\n      "col2": {\n        "func": "metric",\n        "name": "metrics/reloads"\n      },\n      "col1": {\n        "func": "metric",\n        "name": "metrics/occurrences"\n      }\n    },\n    "func": "calc-metric",\n    "version": [\n      1,\n      0,\n      0\n    ]\n  }\n}\'\n')),(0,o.mdx)("h4",{id:"response"},"Response"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "valid": true,\n  "identityMetrics": [ { "identity": "metrics/occurrences" }, { "identity": "metrics/reloads" } ],\n  "functions": [ "subtract" ],\n  "validator_version": "1.0.0",\n  "supported_products": [ "oberon", "frag" ],\n  "supported_schema": [ "schema_oberon", "schema_frag" ]\n}\n')))}h.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guides-endpoints-calculatedmetrics-validate-md-7dc0b1a702b369523747.js.map