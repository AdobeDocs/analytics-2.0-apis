{"version":3,"sources":["webpack://dev-site-documentation-template/./src/pages/guides/endpoints/data-repair/index.md"],"names":["name","_frontmatter","InlineAlert","props","console","warn","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","variant","slots","isMDXComponent"],"mappings":"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","file":"component---src-pages-guides-endpoints-data-repair-index-md-97e5a8fe92b904110942.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/analytics-2.0-apis/analytics-2.0-apis/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst InlineAlert = makeShortcode(\"InlineAlert\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"data-repair-api\"\n    }}>{`Data Repair API`}</h1>\n    <p>{`The Data Repair API provides you with a way to delete or edit Adobe Analytics data.  Repair requests are made by submitting a job definition to the Data Repair API, which includes the report suite, date range, variables and actions to be applied to the data.`}</p>\n    <p>{`The Data Repair API supports the following:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Variables: eVars, props, activity map, campaign, site section, page, entry page, geography, and page events.`}</li>\n      <li parentName=\"ul\">{`Actions: delete, set, deleteQueryString, and deleteQueryStringParameters.`}</li>\n      <li parentName=\"ul\">{`Filters: inList, isEmpty, isURL, isNotURL, contains, startsWith, and endsWith.`}</li>\n    </ul>\n    <p>{`The Data Repair API returns:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`The Server Call volume estimate for the data repair job`}</li>\n      <li parentName=\"ul\">{`The job ID`}</li>\n      <li parentName=\"ul\">{`The status of a submitted job ID`}</li>\n      <li parentName=\"ul\">{`A list of all data repair jobs for a report suite`}</li>\n    </ul>\n    <InlineAlert variant=\"warning\" slots=\"text\" mdxType=\"InlineAlert\" />\n    <p>{`Use of the Data Repair API permanently deletes existing Adobe Analytics data. Adobe recommends a careful approach to executing the repair to minimize accidental deletion. Read through all pages of this guide before using the Data Repair API.`}</p>\n    <h2 {...{\n      \"id\": \"getting-started\"\n    }}>{`Getting Started`}</h2>\n    <p>{`To begin using the Data Repair API, you must meet all four prerequisites:`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\"><strong parentName=\"p\">{`Confirm contract`}</strong></p>\n        <p parentName=\"li\">{`The Data Repair API is a paid service. Reach out to your Adobe Account Manager for details and confirmation of your status.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\"><strong parentName=\"p\">{`Create a Service Account Connection within Adobe I/O`}</strong></p>\n        <p parentName=\"li\">{`A Service Account Connection allows the Data Repair API to call Adobe services.  For information on how to set up the connection, follow the instructions described in the `}<a parentName=\"p\" {...{\n            \"href\": \"https://github.com/AdobeDocs/adobeio-auth/blob/stage/AuthenticationOverview/ServiceAccountIntegration.md\"\n          }}>{`Service Account Connection`}</a>{` documentation. You can configure the Connection with access to the Adobe Analytics APIs.  During the process, you will generate a key pair and download the private key. Store the API Key / Client ID associated with the Service Account Connection securely.  This is used when accessing the Data Repair API.`}</p>\n        <p parentName=\"li\">{`See `}<a parentName=\"p\" {...{\n            \"href\": \"../../getting-started/index.md\"\n          }}>{`Getting started`}</a>{` for information around the correct permissions, creating an API client in the Adobe I/O Console, and successfully authenticating. Make sure that you include the \"Data Repair API\" permission item when creating a product profile.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\"><strong parentName=\"p\">{`Grant the Data Repair API permission to the new Service Account Connection in the Experience Cloud`}</strong></p>\n        <p parentName=\"li\">{`Adobe Experience Cloud Admin Console includes product profile controls. Product profiles have Adobe Analytics-specific User permissions for managing integration access to reporting features and data.`}</p>\n        <p parentName=\"li\">{`The Data Repair API permission is located under the Adobe Analytics Report Suite Tools permission group.`}</p>\n        <p parentName=\"li\"><span parentName=\"p\" {...{\n            \"className\": \"gatsby-resp-image-wrapper\",\n            \"style\": {\n              \"position\": \"relative\",\n              \"display\": \"block\",\n              \"marginLeft\": \"auto\",\n              \"marginRight\": \"auto\",\n              \"maxWidth\": \"1104px\"\n            }\n          }}>{`\n      `}<span parentName=\"span\" {...{\n              \"className\": \"gatsby-resp-image-background-image\",\n              \"style\": {\n                \"paddingBottom\": \"28.750000000000004%\",\n                \"position\": \"relative\",\n                \"bottom\": \"0\",\n                \"left\": \"0\",\n                \"display\": \"block\",\n                \"transition\": \"opacity 0.5s 0.5s\",\n                \"pointerEvents\": \"none\"\n              }\n            }}></span>{`\n  `}<picture parentName=\"span\">{`\n          `}<source parentName=\"picture\" {...{\n                \"srcSet\": [\"/analytics-2.0-apis/static/7a8001f42f86fc74501eb8302184d9ed/cb523/data-repair-permission.webp 320w\", \"/analytics-2.0-apis/static/7a8001f42f86fc74501eb8302184d9ed/797b9/data-repair-permission.webp 640w\", \"/analytics-2.0-apis/static/7a8001f42f86fc74501eb8302184d9ed/749d8/data-repair-permission.webp 1104w\"],\n                \"sizes\": \"(max-width: 1104px) 100vw, 1104px\",\n                \"type\": \"image/webp\"\n              }}></source>{`\n          `}<source parentName=\"picture\" {...{\n                \"srcSet\": [\"/analytics-2.0-apis/static/7a8001f42f86fc74501eb8302184d9ed/72799/data-repair-permission.png 320w\", \"/analytics-2.0-apis/static/7a8001f42f86fc74501eb8302184d9ed/6af66/data-repair-permission.png 640w\", \"/analytics-2.0-apis/static/7a8001f42f86fc74501eb8302184d9ed/7388e/data-repair-permission.png 1104w\"],\n                \"sizes\": \"(max-width: 1104px) 100vw, 1104px\",\n                \"type\": \"image/png\"\n              }}></source>{`\n          `}<img parentName=\"picture\" {...{\n                \"className\": \"gatsby-resp-image-image\",\n                \"src\": \"/analytics-2.0-apis/static/7a8001f42f86fc74501eb8302184d9ed/7388e/data-repair-permission.png\",\n                \"alt\": \"data repair permission\",\n                \"title\": \"data repair permission\",\n                \"loading\": \"lazy\",\n                \"style\": {\n                  \"width\": \"100%\",\n                  \"height\": \"100%\",\n                  \"margin\": \"0\",\n                  \"verticalAlign\": \"middle\",\n                  \"position\": \"absolute\",\n                  \"opacity\": \"0\",\n                  \"transition\": \"opacity 0.5s\",\n                  \"color\": \"inherit\",\n                  \"boxShadow\": \"inset 0px 0px 0px 400px none\",\n                  \"top\": \"0\",\n                  \"left\": \"0\"\n                }\n              }}></img>{`\n        `}</picture>{`\n    `}</span></p>\n        <p parentName=\"li\">{`For more information on creating profiles and managing permissions, see `}<a parentName=\"p\" {...{\n            \"href\": \"https://helpx.adobe.com/enterprise/using/manage-products-and-profiles.html\"\n          }}>{`Manage Products and Profiles`}</a>{` and `}<a parentName=\"p\" {...{\n            \"href\": \"https://helpx.adobe.com/enterprise/using/manage-permissions-and-roles.html\"\n          }}>{`Manage Permissions and Roles`}</a>{`.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\"><strong parentName=\"p\">{`Create a JSON Web Token`}</strong></p>\n        <p parentName=\"li\">{`In order to establish a secure service-to-service Adobe I/O API session, create a JSON Web Token (JWT) that encapsulates the identity of the product integration, and then exchange it for an access token. Every request to an Adobe service must include the access token in the `}<inlineCode parentName=\"p\">{`Authorization header`}</inlineCode>{`, along with the `}<inlineCode parentName=\"p\">{`API Key / Client ID`}</inlineCode>{` associated with the Service Account Connection.  For more information about creating a JWT access token, see `}<a parentName=\"p\" {...{\n            \"href\": \"https://github.com/AdobeDocs/adobeio-auth/blob/stage/JWT/JWT.md\"\n          }}>{`JWT Authentication`}</a>{`. For instructions on testing your JWT, see Step 3 in the `}<a parentName=\"p\" {...{\n            \"href\": \"https://github.com/AdobeDocs/adobeio-auth/blob/stage/AuthenticationOverview/ServiceAccountIntegration.md#step-3-try-it\"\n          }}>{`Service Account Connection`}</a>{` documentation.`}</p>\n        <InlineAlert variant=\"info\" slots=\"text\" mdxType=\"InlineAlert\" />\n        <p parentName=\"li\">{`A new access token must be created before each use of the Data Repair API.`}</p>\n      </li>\n    </ol>\n    <h2 {...{\n      \"id\": \"submit-a-data-repair-job\"\n    }}>{`Submit a data repair job`}</h2>\n    <p>{`To submit a data repair job, there are three steps:`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\"><strong parentName=\"p\">{`Estimate repair size`}</strong></p>\n        <p parentName=\"li\">{`The Data Repair API incurs charges based on usage.  It scans every row of data looking for repairs, job sizing is based on rows scanned.  The `}<inlineCode parentName=\"p\">{`/serverCallEstimate`}</inlineCode>{` endpoint is a required step to help you estimate the cost of a repair. The `}<inlineCode parentName=\"p\">{`/serverCallEstimate`}</inlineCode>{` endpoint returns a count of the Server Call volume for the report suite date range. The endpoint also returns a `}<inlineCode parentName=\"p\">{`validationToken`}</inlineCode>{`, which is required for the job creation call.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\"><strong parentName=\"p\">{`Create a repair job`}</strong></p>\n        <p parentName=\"li\">{`To create a data repair job, use the `}<inlineCode parentName=\"p\">{`/job`}</inlineCode>{` endpoint. This endpoint requires a Report Suite, date range, `}<inlineCode parentName=\"p\">{`validationToken`}</inlineCode>{` (from `}<inlineCode parentName=\"p\">{`/serverCallEstimate`}</inlineCode>{`), and a job definition, which specifies the variables to be repaired.  A Job ID is returned when a repair job is created.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\"><strong parentName=\"p\">{`Monitor progress`}</strong></p>\n        <p parentName=\"li\">{`Use the `}<inlineCode parentName=\"p\">{`/job/{JOB_ID}`}</inlineCode>{` endpoint to monitor the status of a job at any point after job submission. Completion time of a repair job depends on its size; small jobs can complete within hours while large jobs can take multiple days.`}</p>\n      </li>\n    </ol>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}