{"version":3,"sources":["webpack://dev-site-documentation-template/./src/pages/guides/endpoints/bulk-data-insertion/endpoints.md"],"names":["name","_frontmatter","CodeBlock","props","console","warn","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","slots","repeat","languages","isMDXComponent"],"mappings":"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","file":"component---src-pages-guides-endpoints-bulk-data-insertion-endpoints-md-32f69afedee0cf762c8c.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/analytics-2.0-apis/analytics-2.0-apis/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst CodeBlock = makeShortcode(\"CodeBlock\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"bulk-data-insertion-api-endpoints\"\n    }}>{`Bulk Data Insertion API endpoints`}</h1>\n    <p>{`Once you have met all `}<a parentName=\"p\" {...{\n        \"href\": \"index.md\"\n      }}>{`prerequisites`}</a>{` and have a `}<a parentName=\"p\" {...{\n        \"href\": \"file-format.md\"\n      }}>{`correctly formatted file`}</a>{`, you can begin making API calls to Adobe's endpoints for this API.`}</p>\n    <h2 {...{\n      \"id\": \"primary-ingestion-endpoint\"\n    }}>{`Primary ingestion endpoint`}</h2>\n    <p>{`Once you have `}<a parentName=\"p\" {...{\n        \"href\": \"#validate\"\n      }}>{`validated`}</a>{` your file, you can use this endpoint to send it to Adobe for ingestion.`}</p>\n    <p><inlineCode parentName=\"p\">{`POST https://analytics-collection.adobe.io/aa/collect/v1/events`}</inlineCode></p>\n    <p>{`Include all of the required headers with each API call:`}</p>\n    <ul>\n      <li parentName=\"ul\"><strong parentName=\"li\"><inlineCode parentName=\"strong\">{`Authorization`}</inlineCode></strong>{`: Required for authentication with the API. Format is the string `}<inlineCode parentName=\"li\">{`\"Bearer {ACCESS_TOKEN}`}</inlineCode>{`.`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\"><inlineCode parentName=\"strong\">{`x-api-key`}</inlineCode></strong>{`: Required for authentication with the API. Found in the Adobe I/O console under the JWT service credentials.`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\"><inlineCode parentName=\"strong\">{`x-adobe-vgid`}</inlineCode></strong>{`: Required for this endpoint. The visitor group ID. See `}<a parentName=\"li\" {...{\n          \"href\": \"visitor-groups.md\"\n        }}>{`Visitor groups`}</a>{`.`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\"><inlineCode parentName=\"strong\">{`x-adobe-idempotency-key`}</inlineCode></strong>{`: Optional. Allows you to manually specify the `}<inlineCode parentName=\"li\">{`file_id`}</inlineCode>{` of the file contained in the API call. If you do not send this header, Adobe automatically generates a `}<inlineCode parentName=\"li\">{`file_id`}</inlineCode>{` for you and includes it in the response JSON object.`}</li>\n    </ul>\n    <p>{`You must also include the file in your API call in gzip format.`}</p>\n    <p>{`The `}<inlineCode parentName=\"p\">{`https://analytics-collection.adobe.io`}</inlineCode>{` domain automatically routes your API call to the best region for processing. However, if you are legally required to have your data processed in a specific part of the world, you can use one of the following host names for API calls:`}</p>\n    <ul>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`US processing`}</strong>{`: `}<inlineCode parentName=\"li\">{`https://analytics-collection-va7.adobe.io`}</inlineCode></li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`European processing`}</strong>{`: `}<inlineCode parentName=\"li\">{`https://analytics-collection-nld2.adobe.io`}</inlineCode></li>\n    </ul>\n    <CodeBlock slots=\"heading, code\" repeat=\"5\" languages=\"CURL,JSON\" mdxType=\"CodeBlock\" />\n    <h4 {...{\n      \"id\": \"request\"\n    }}>{`Request`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-sh\"\n      }}>{`curl -X GET -H \"accept: application/json\" \\\\\n    -H \"Authorization: Bearer {ACCESS_TOKEN}\" \\\\\n    -H \"x-api-key: {API_KEY/CLIENT_ID}\" \\\\\n    -H \"x-adobe-vgid: example_group\" \\\\\n    -F file=@/tmp/ingest_file.gz \\\\\n    \"https://analytics-collection.adobe.io/aa/collect/v1/events\"\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"success-response\"\n    }}>{`Success response`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n  \"file_id\": \"5c04f400-fca5-420c-9c36-b94aaec55e69\",\n  \"visitor_group_id\": \"example_group\",\n  \"size\": 355600,\n  \"received_date\": 1506553535,\n  \"processing_start_date\": 1506553492,\n  \"processing_end_date\": 1506553492,\n  \"file_reader_complete_date\": 1506553492,\n  \"rows\": 10000,\n  \"invalid_rows\": 42,\n  \"upload_name\": \"ingest_file.gz\",\n  \"status\": \"string\",\n  \"status_code\": \"UPLOADED\",\n  \"processing_log\": \"string\",\n  \"success\": \"File is valid\"\n}\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"failure-response---missing-visitor-group\"\n    }}>{`Failure response - missing visitor group`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n    \"error\": \"Request is missing required header 'x-adobe-vgid'\"\n}\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"failure-response---incorrect-file-format\"\n    }}>{`Failure response - incorrect file format`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n    \"error\": \"CSV file missing required header 'timestamp'.\"\n}\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"failure-response---incorrect-credentials\"\n    }}>{`Failure response - incorrect credentials`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n    \"error\": \"Token validation failed\"\n}\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"response-object-details\"\n    }}>{`Response object details`}</h3>\n    <p>{`When you upload a file to this endpoint, Adobe returns a JSON object that can contain the following fields:`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Field`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Data type`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`file_id`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`string`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Unique identifier for the file upload transaction. Automatically generated by Adobe unless you include the `}<inlineCode parentName=\"td\">{`x-adobe-idempotency-key`}</inlineCode>{` header in the API call.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`visitor_group`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`string`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Name of the visitor group as stated in the `}<inlineCode parentName=\"td\">{`x-adobe-vgid`}</inlineCode>{` header. See `}<a parentName=\"td\" {...{\n              \"href\": \"visitor-groups.md\"\n            }}>{`Visitor groups`}</a>{`.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`size`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`long`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`The size of the uploaded file in bytes.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`received_date`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`long`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`The Unix timestamp when the file was received`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`rows`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`integer`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`The number of rows contained in the file`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`invalid_rows`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`integer`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`The number of invalid rows identified in the file`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`upload_name`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`string`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`The name of the file included in the request`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`status_code`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`string`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`The status of the file upload. Valid values include `}<inlineCode parentName=\"td\">{`UPLOADED`}</inlineCode>{` or `}<inlineCode parentName=\"td\">{`REJECTED`}</inlineCode>{`.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`status`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`string`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`More verbose details around the `}<inlineCode parentName=\"td\">{`status_code`}</inlineCode></td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`processing_log`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`string`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Details around specific issues encountered. If an error type has 10 or less problem rows, they are explicitly mentioned. If an error type has more than 10 problem rows, summarized results are provided.`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <h2 {...{\n      \"id\": \"validate\"\n    }}>{`Validate`}</h2>\n    <p>{`Before uploading your first file, Adobe strongly recommends running the file through the validation endpoint. This endpoint exists to test files before you upload them to the `}<inlineCode parentName=\"p\">{`events`}</inlineCode>{` endpoint. Files uploaded to this endpoint are not stored on Adobe's servers or processed. This API is synchronous and returns an immediate reply that states the file's validation status. If a file fails validation, the reason is also returned. See `}<a parentName=\"p\" {...{\n        \"href\": \"troubleshooting.md\"\n      }}>{`Troubleshoot uploads`}</a>{` for more information.`}</p>\n    <p><inlineCode parentName=\"p\">{`POST https://analytics-collection.adobe.io/aa/collect/v1/events/validate`}</inlineCode></p>\n    <CodeBlock slots=\"heading, code\" repeat=\"3\" languages=\"CURL,JSON\" mdxType=\"CodeBlock\" />\n    <h4 {...{\n      \"id\": \"request-1\"\n    }}>{`Request`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-sh\"\n      }}>{`curl -X GET -H \"accept: application/json\" \\\\\n    -H \"x-proxy-global-company-id: {ANALYTICS_GLOBAL_COMPANY_ID}\" \\\\\n    -H \"Authorization: Bearer {ACCESS_TOKEN}\" \\\\\n    -H \"x-api-key: {API_KEY/CLIENT_ID}\" \\\\\n    -F file=@/tmp/ingest_file.gz \\\\\n    \"https://analytics.adobe.io/aa/collect/v1/events/validate\"\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"success-response-1\"\n    }}>{`Success response`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n    \"success\": \"file is valid\"\n}\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"failure-response---invalid-rows\"\n    }}>{`Failure response - invalid rows`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n    \"error\": \"File has 2 rows that do not conform to the required CSV format! (Ex: row #59)\"\n}\n`}</code></pre>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}